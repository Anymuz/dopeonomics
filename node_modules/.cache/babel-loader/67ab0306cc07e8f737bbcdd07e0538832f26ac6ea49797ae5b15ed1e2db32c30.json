{"ast":null,"code":"// Revised straindata.js with accurate interactions\n// Based on the game mechanics and properly implementing transformations\nexport const seedTypes=[// Weed seeds\n{name:'OG Kush Seed',cost:30,effect:'Calming',drugType:'weed'},{name:'Sour Diesel Seed',cost:35,effect:'Refreshing',drugType:'weed'},{name:'Green Crack Seed',cost:40,effect:'Energizing',drugType:'weed'},{name:'Granddaddy Purple Seed',cost:45,effect:'Sedating',drugType:'weed'},// Meth \"seeds\"\n{name:'Low-Quality Pseudo',cost:140,effect:'Energizing',drugType:'meth'},{name:'Standard Pseudo',cost:160,effect:'Electrifying',drugType:'meth'},{name:'High-Quality Pseudo',cost:190,effect:'Bright-Eyed',drugType:'meth'},// Cocaine \"seeds\"\n{name:'Standard Coca Leaves',cost:210,effect:'Euphoric',drugType:'cocaine'},{name:'Premium Coca Leaves',cost:210,effect:'Focused',drugType:'cocaine'},{name:'Heavenly Coca Leaves',cost:210,effect:'Thought-Provoking',drugType:'cocaine'}];export const ingredients=[{name:'Cuke',cost:2,emoji:'ü•§',defaultEffect:'Energizing',interactions:[{if:'Toxic',replaceWith:'Euphoric'},{if:'Slippery',replaceWith:'Munchies'},{if:'Sneaky',replaceWith:'Paranoia'},{if:'Foggy',replaceWith:'Cyclopean'},{if:'Gingeritis',replaceWith:'Thought-Provoking'},{if:'Munchies',replaceWith:'Athletic'},{if:'Euphoric',replaceWith:'Laxative'}]},{name:'Banana',cost:2,emoji:'üçå',defaultEffect:'Gingeritis',interactions:[{if:'Energizing',replaceWith:'Thought-Provoking'},{if:'Calming',replaceWith:'Sneaky'},{if:'Toxic',replaceWith:'Smelly'},{if:'Long-Faced',replaceWith:'Refreshing'},{if:'Cyclopean',replaceWith:'Thought-Provoking'},{if:'Disorienting',replaceWith:'Focused'},{if:'Focused',replaceWith:'Seizure-Inducing'},{if:'Paranoia',replaceWith:'Jennerising'},{if:'Smelly',replaceWith:'Anti-Gravity'}]},{name:'Paracetamol',cost:3,emoji:'‚ö™',defaultEffect:'Sneaky',interactions:[{if:'Energizing',replaceWith:'Paranoia'},{if:'Calming',replaceWith:'Slippery'},{if:'Toxic',replaceWith:'Tropic Thunder'},{if:'Spicy',replaceWith:'Bright-Eyed'},{if:'Glowing',replaceWith:'Toxic'},{if:'Foggy',replaceWith:'Calming'},{if:'Munchies',replaceWith:'Anti-Gravity'},{if:'Paranoia',replaceWith:'Balding'},{if:'Electrifying',replaceWith:'Athletic'},{if:'Focused',replaceWith:'Gingeritis'}]},{name:'Donut',cost:3,emoji:'üç©',defaultEffect:'Calorie-Dense',interactions:[{if:'Calorie-Dense',replaceWith:'Explosive'},{if:'Balding',replaceWith:'Sneaky'},{if:'Anti-Gravity',replaceWith:'Slippery'},{if:'Jennerising',replaceWith:'Gingeritis'},{if:'Focused',replaceWith:'Euphoric'},{if:'Shrinking',replaceWith:'Energizing'}]},{name:'Viagra',cost:4,emoji:'üçÜ',defaultEffect:'Tropic Thunder',interactions:[{if:'Athletic',replaceWith:'Sneaky'},{if:'Euphoric',replaceWith:'Bright-Eyed'},{if:'Laxative',replaceWith:'Calming'},{if:'Disorienting',replaceWith:'Toxic'}]},{name:'Mouth Wash',cost:4,emoji:'üíß',defaultEffect:'Balding',interactions:[{if:'Calming',replaceWith:'Anti-Gravity'},{if:'Calorie-Dense',replaceWith:'Sneaky'},{if:'Explosive',replaceWith:'Sedating'},{if:'Focused',replaceWith:'Jennerising'}]},{name:'Flu Medicine',cost:5,emoji:'üçá',defaultEffect:'Sedating',interactions:[{if:'Calming',replaceWith:'Bright-Eyed'},{if:'Athletic',replaceWith:'Munchies'},{if:'Thought-Provoking',replaceWith:'Gingeritis'},{if:'Cyclopean',replaceWith:'Foggy'},{if:'Munchies',replaceWith:'Slippery'},{if:'Laxative',replaceWith:'Euphoric'},{if:'Euphoric',replaceWith:'Toxic'},{if:'Focused',replaceWith:'Calming'},{if:'Electrifying',replaceWith:'Refreshing'},{if:'Shrinking',replaceWith:'Paranoia'}]},{name:'Gasoline',cost:5,emoji:'‚õΩ',defaultEffect:'Toxic',interactions:[{if:'Gingeritis',replaceWith:'Smelly'},{if:'Jennerising',replaceWith:'Sneaky'},{if:'Sneaky',replaceWith:'Tropic Thunder'},{if:'Munchies',replaceWith:'Sedating'},{if:'Energizing',replaceWith:'Euphoric'},{if:'Euphoric',replaceWith:'Energizing'},{if:'Laxative',replaceWith:'Foggy'},{if:'Disorienting',replaceWith:'Glowing'},{if:'Paranoia',replaceWith:'Calming'},{if:'Electrifying',replaceWith:'Disorienting'},{if:'Shrinking',replaceWith:'Focused'}]},{name:'Energy Drink',cost:6,emoji:'üêÇ',defaultEffect:'Athletic',interactions:[{if:'Sedating',replaceWith:'Munchies'},{if:'Euphoric',replaceWith:'Energizing'},{if:'Spicy',replaceWith:'Euphoric'},{if:'Tropic Thunder',replaceWith:'Sneaky'},{if:'Glowing',replaceWith:'Disorienting'},{if:'Foggy',replaceWith:'Laxative'},{if:'Disorienting',replaceWith:'Electrifying'},{if:'Schizophrenia',replaceWith:'Balding'},{if:'Focused',replaceWith:'Shrinking'}]},{name:'Motor Oil',cost:6,emoji:'üõ¢Ô∏è',defaultEffect:'Slippery',interactions:[{if:'Energizing',replaceWith:'Munchies'},{if:'Foggy',replaceWith:'Toxic'},{if:'Euphoric',replaceWith:'Sedating'},{if:'Paranoia',replaceWith:'Anti-Gravity'},{if:'Munchies',replaceWith:'Schizophrenia'}]},{name:'Mega Bean',cost:7,emoji:'ü´õ',defaultEffect:'Foggy',interactions:[{if:'Energizing',replaceWith:'Cyclopean'},{if:'Calming',replaceWith:'Glowing'},{if:'Athletic',replaceWith:'Laxative'},{if:'Sneaky',replaceWith:'Calming'},{if:'Jennerising',replaceWith:'Paranoia'},{if:'Slippery',replaceWith:'Toxic'},{if:'Thought-Provoking',replaceWith:'Energizing'},{if:'Seizure-Inducing',replaceWith:'Focused'},{if:'Focused',replaceWith:'Disorienting'},{if:'Shrinking',replaceWith:'Electrifying'}]},{name:'Chili',cost:7,emoji:'üå∂Ô∏è',defaultEffect:'Spicy',interactions:[{if:'Athletic',replaceWith:'Euphoric'},{if:'Anti-Gravity',replaceWith:'Tropic Thunder'},{if:'Sneaky',replaceWith:'Bright-Eyed'},{if:'Munchies',replaceWith:'Toxic'},{if:'Laxative',replaceWith:'Long-Faced'},{if:'Shrinking',replaceWith:'Refreshing'}]},{name:'Battery',cost:8,emoji:'üîã',defaultEffect:'Bright-Eyed',interactions:[{if:'Munchies',replaceWith:'Tropic Thunder'},{if:'Euphoric',replaceWith:'Zombifying'},{if:'Electrifying',replaceWith:'Euphoric'},{if:'Laxative',replaceWith:'Calorie-Dense'},{if:'Cyclopean',replaceWith:'Glowing'},{if:'Shrinking',replaceWith:'Munchies'}]},{name:'Iodine',cost:8,emoji:'üü†',defaultEffect:'Jennerising',interactions:[{if:'Calming',replaceWith:'Balding'},{if:'Toxic',replaceWith:'Sneaky'},{if:'Foggy',replaceWith:'Paranoia'},{if:'Calorie-Dense',replaceWith:'Gingeritis'},{if:'Euphoric',replaceWith:'Seizure-Inducing'},{if:'Refreshing',replaceWith:'Thought-Provoking'}]},{name:'Addy',cost:9,emoji:'üíä',defaultEffect:'Thought-Provoking',interactions:[{if:'Sedating',replaceWith:'Gingeritis'},{if:'Long-Faced',replaceWith:'Electrifying'},{if:'Glowing',replaceWith:'Refreshing'},{if:'Foggy',replaceWith:'Energizing'},{if:'Explosive',replaceWith:'Euphoric'}]},{name:'Horse Semen',cost:9,emoji:'üê¥',defaultEffect:'Long-Faced',interactions:[{if:'Anti-Gravity',replaceWith:'Calming'},{if:'Gingeritis',replaceWith:'Refreshing'},{if:'Thought-Provoking',replaceWith:'Electrifying'}]},// Meth-specific ingredients\n{name:'Glass Shards',cost:10,emoji:'üîç',defaultEffect:'Explosive',interactions:[{if:'Energizing',replaceWith:'Electrifying'},{if:'Bright-Eyed',replaceWith:'Explosive'}]},{name:'Blue Food Coloring',cost:12,emoji:'üîµ',defaultEffect:'Glowing',interactions:[{if:'Energizing',replaceWith:'Calming'},{if:'Electrifying',replaceWith:'Glowing'}]},// Cocaine-specific ingredients\n{name:'Baking Soda',cost:8,emoji:'üßÇ',defaultEffect:'Euphoric',interactions:[{if:'Euphoric',replaceWith:'Energizing'},{if:'Focused',replaceWith:'Athletic'}]},{name:'Caffeine Powder',cost:15,emoji:'‚òï',defaultEffect:'Energizing',interactions:[{if:'Euphoric',replaceWith:'Bright-Eyed'},{if:'Thought-Provoking',replaceWith:'Energizing'}]}];// For backwards compatibility with existing code\nexport const additiveEffects=ingredients.reduce((acc,ingredient)=>{acc[ingredient.name]=ingredient.defaultEffect;return acc;},{});export const effectColors={'Anti-Gravity':'#143371','Athletic':'#4d85a8','Balding':'#735620','Bright-Eyed':'#8bc7d2','Calming':'#bda588','Calorie-Dense':'#a3569f','Cyclopean':'#9c784a','Disorienting':'#964733','Electrifying':'#3680a3','Energizing':'#65a94b','Euphoric':'#898043','Explosive':'#932d29','Focused':'#41868f','Foggy':'#686a6b','Gingeritis':'#9c551c','Glowing':'#538e3a','Jennerising':'#925292','Laxative':'#4c281a','Lethal':'#6c1f1a','Long-Faced':'#8b7839','Munchies':'#8b7839','Paranoia':'#733e3d','Refreshing':'#608955','Schizophrenia':'#302d7d','Sedating':'#302c63','Seizure-Inducing':'#817804','Shrinking':'#689280','Slippery':'#5d8195','Smelly':'#4f7822','Sneaky':'#474849','Spicy':'#984231','Thought-Provoking':'#a86b88','Toxic':'#3d6523','Tropic Thunder':'#8c592b','Zombifying':'#558248'};// Drug type information\nexport const drugTypes={'weed':{name:'Weed',emoji:'üåø',basePrice:35,description:'Classic cannabis. Each seed produces 12 buds.',yieldAmount:12,unit:'buds'},'meth':{name:'Meth',emoji:'üíé',basePrice:70,description:'Crystal methamphetamine. Each batch produces 10 crystals.',yieldAmount:10,unit:'crystals'},'cocaine':{name:'Cocaine',emoji:'‚ùÑÔ∏è',basePrice:90,description:'Refined cocaine powder. Each batch produces 10 grams.',yieldAmount:10,unit:'grams'}};export const effectDetails={'Anti-Gravity':{multiplier:0.54,type:'Ability',description:'Causes user to jump higher.'},'Athletic':{multiplier:0.32,type:'Ability',description:'Causes user to run faster.'},'Balding':{multiplier:0.30,type:'Cosmetic',description:'Causes user to be bald.'},'Bright-Eyed':{multiplier:0.40,type:'Ability',description:'Causes user\\'s eyes to shine flashlight beams.'},'Calming':{multiplier:0.10,type:'Cosmetic',description:'Causes user to have chromatic aberration around screen.'},'Calorie-Dense':{multiplier:0.28,type:'Cosmetic',description:'Causes user to appear fat.'},'Cyclopean':{multiplier:0.56,type:'Cosmetic',description:'Causes user to only have one eye.'},'Disorienting':{multiplier:0.00,type:'Ability',description:'Causes camera controls for up and down and movement controls for left and right to be inverted.'},'Electrifying':{multiplier:0.50,type:'Cosmetic',description:'Causes lightning effect on user.'},'Energizing':{multiplier:0.22,type:'Ability',description:'Causes user to run faster.'},'Euphoric':{multiplier:0.18,type:'Cosmetic',description:'Causes visual effects and improved mood.'},'Explosive':{multiplier:0.00,type:'Ability',description:'Causes user to explode after ticking countdown, killing the user and damaging NPCs in the vicinity.'},'Focused':{multiplier:0.16,type:'Cosmetic',description:'Causes user to have chromatic aberration around screen.'},'Foggy':{multiplier:0.36,type:'Cosmetic',description:'Causes a fog cloud effect around user. Also causes user to perceive the world as extremely foggy, significantly limiting visibility.'},'Gingeritis':{multiplier:0.20,type:'Cosmetic',description:'Causes user to have red hair.'},'Glowing':{multiplier:0.48,type:'Cosmetic',description:'Causes user to have a radioactive glow.'},'Jennerising':{multiplier:0.42,type:'Cosmetic',description:'Causes user to appear female.'},'Laxative':{multiplier:0.00,type:'Cosmetic',description:'Causes user to constantly soil themselves.'},'Long-Faced':{multiplier:0.52,type:'Cosmetic',description:'Causes user\\'s neck and face to grow.'},'Munchies':{multiplier:0.12,type:'Ability',description:'Causes user to feel hungry.'},'Paranoia':{multiplier:0.00,type:'Ability',description:'Causes user to experience paranoia effects.'},'Refreshing':{multiplier:0.14,type:'Ability',description:'Causes rejuvenating effects.'},'Schizophrenia':{multiplier:0.00,type:'Ability',description:'Causes user to hear voices and see things.'},'Sedating':{multiplier:0.26,type:'Cosmetic',description:'Causes user to have a vignette around screen and mouse smoothing.'},'Seizure-Inducing':{multiplier:0.00,type:'Cosmetic',description:'Causes user to have a seizure and shake on the ground.'},'Shrinking':{multiplier:0.60,type:'Cosmetic',description:'Causes user to shrink.'},'Slippery':{multiplier:0.34,type:'Ability',description:'Causes user to have sluggish, slippery movement.'},'Smelly':{multiplier:0.00,type:'Cosmetic',description:'Causes user to have a stinky cloud around them.'},'Sneaky':{multiplier:0.24,type:'Ability',description:'Improves stealth capabilities.'},'Spicy':{multiplier:0.38,type:'Cosmetic',description:'Causes user\\'s head to light on fire.'},'Thought-Provoking':{multiplier:0.44,type:'Cosmetic',description:'Causes user\\'s head to grow in size.'},'Toxic':{multiplier:0.00,type:'Cosmetic',description:'Causes user to vomit.'},'Tropic Thunder':{multiplier:0.46,type:'Cosmetic',description:'Causes user to have black skin.'},'Zombifying':{multiplier:0.58,type:'Cosmetic',description:'Causes user to have green skin and have a zombie-like voice.'}};export const calculateEffectMultiplier=currentEffects=>{// Add a safety check to ensure currentEffects is an array\nif(!currentEffects||!Array.isArray(currentEffects)||currentEffects.length===0){return 0;}// Sum up the multipliers for all effects\nreturn currentEffects.reduce((total,effect)=>{var _effectDetails$effect;return total+(((_effectDetails$effect=effectDetails[effect])===null||_effectDetails$effect===void 0?void 0:_effectDetails$effect.multiplier)||0);},0);};// Updated sequential mixing function with proper interaction application\nexport const calculateStrainEffects=(seedEffect,ingredientsSequence)=>{if(!seedEffect||!ingredientsSequence||ingredientsSequence.length===0){return{finalEffects:seedEffect?[seedEffect]:[],mixingHistory:seedEffect?[{step:0,ingredient:\"Base Seed\",effectsBefore:[],effectsAfter:[seedEffect],changes:[`Added ${seedEffect}`]}]:[]};}// Start with the seed effect\nlet currentEffects=[seedEffect];// Store the history of effect changes for UI display\nconst mixingHistory=[{step:0,ingredient:\"Base Seed\",effectsBefore:[],effectsAfter:[...currentEffects],changes:[`Added ${seedEffect}`]}];// Process each ingredient one by one in sequence\ningredientsSequence.forEach((ingredient,index)=>{const effectsBefore=[...currentEffects];// 1. Apply interactions (transformations) based on this ingredient\nif(ingredient.interactions&&ingredient.interactions.length>0){// Create a new array for the effects after transformations\nlet transformedEffects=[...currentEffects];// For each interaction rule, check if the effect exists and transform it\n// ONLY if the replacement effect is not already present\ningredient.interactions.forEach(interaction=>{const effectIndex=transformedEffects.findIndex(effect=>effect===interaction.if);// Only apply transformation if:\n// 1. The target effect exists AND\n// 2. The replacement effect is NOT already in the effects list\nif(effectIndex!==-1&&!transformedEffects.includes(interaction.replaceWith)){transformedEffects[effectIndex]=interaction.replaceWith;}});currentEffects=transformedEffects;}// Track what effects changed due to interactions\nconst transformations=[];for(let i=0;i<Math.min(effectsBefore.length,currentEffects.length);i++){if(currentEffects[i]!==effectsBefore[i]){transformations.push(`${effectsBefore[i]} ‚Üí ${currentEffects[i]}`);}}// 2. Add the ingredient's default effect if not already present and under the 8 effects limit\nconst defaultEffect=ingredient.defaultEffect;if(defaultEffect&&currentEffects.length<8&&!currentEffects.includes(defaultEffect)){currentEffects.push(defaultEffect);transformations.push(`Added ${defaultEffect}`);}// Limit to maximum 8 effects\nif(currentEffects.length>8){const removed=currentEffects.slice(8);currentEffects=currentEffects.slice(0,8);transformations.push(`Removed effects due to 8-effect limit: ${removed.join(', ')}`);}// Record this step in the mixing history\nmixingHistory.push({step:index+1,ingredient:ingredient.name,effectsBefore:effectsBefore,effectsAfter:[...currentEffects],changes:transformations.length>0?transformations:[\"No change\"]});});// Return both the final effects and the history for UI display\nreturn{finalEffects:currentEffects,mixingHistory:mixingHistory};};// Helper function to check what would happen if we add a specific ingredient next\nexport const simulateAddIngredient=(currentEffects,ingredient)=>{if(!currentEffects||!ingredient)return{newEffects:[...currentEffects]};// Clone current effects\nlet newEffects=[...currentEffects];const transformations=[];// Apply interactions\nif(ingredient.interactions&&ingredient.interactions.length>0){ingredient.interactions.forEach(interaction=>{const effectIndex=newEffects.findIndex(effect=>effect===interaction.if);// Only apply transformation if:\n// 1. The target effect exists AND \n// 2. The replacement effect is NOT already in the effects list\nif(effectIndex!==-1&&!newEffects.includes(interaction.replaceWith)){const oldEffect=newEffects[effectIndex];newEffects[effectIndex]=interaction.replaceWith;transformations.push({from:oldEffect,to:interaction.replaceWith});}});}// Add default effect if possible\nlet addedDefaultEffect=false;if(ingredient.defaultEffect&&newEffects.length<8&&!newEffects.includes(ingredient.defaultEffect)){newEffects.push(ingredient.defaultEffect);addedDefaultEffect=true;}return{newEffects,transformations,addedDefaultEffect,defaultEffect:ingredient.defaultEffect};};","map":{"version":3,"names":["seedTypes","name","cost","effect","drugType","ingredients","emoji","defaultEffect","interactions","if","replaceWith","additiveEffects","reduce","acc","ingredient","effectColors","drugTypes","basePrice","description","yieldAmount","unit","effectDetails","multiplier","type","calculateEffectMultiplier","currentEffects","Array","isArray","length","total","_effectDetails$effect","calculateStrainEffects","seedEffect","ingredientsSequence","finalEffects","mixingHistory","step","effectsBefore","effectsAfter","changes","forEach","index","transformedEffects","interaction","effectIndex","findIndex","includes","transformations","i","Math","min","push","removed","slice","join","simulateAddIngredient","newEffects","oldEffect","from","to","addedDefaultEffect"],"sources":["C:/Users/joshu/OneDrive/Documents/_Technical Projects/Doponomics/dopeonomics/src/straindata.js"],"sourcesContent":["// Revised straindata.js with accurate interactions\r\n// Based on the game mechanics and properly implementing transformations\r\n\r\nexport const seedTypes = [\r\n  // Weed seeds\r\n  { name: 'OG Kush Seed', cost: 30, effect: 'Calming', drugType: 'weed' },\r\n  { name: 'Sour Diesel Seed', cost: 35, effect: 'Refreshing', drugType: 'weed' },\r\n  { name: 'Green Crack Seed', cost: 40, effect: 'Energizing', drugType: 'weed' },\r\n  { name: 'Granddaddy Purple Seed', cost: 45, effect: 'Sedating', drugType: 'weed' },\r\n  \r\n  // Meth \"seeds\"\r\n  { name: 'Low-Quality Pseudo', cost: 140, effect: 'Energizing', drugType: 'meth' },\r\n  { name: 'Standard Pseudo', cost: 160, effect: 'Electrifying', drugType: 'meth' },\r\n  { name: 'High-Quality Pseudo', cost: 190, effect: 'Bright-Eyed', drugType: 'meth' },\r\n  \r\n  // Cocaine \"seeds\"\r\n  { name: 'Standard Coca Leaves', cost: 210, effect: 'Euphoric', drugType: 'cocaine' },\r\n  { name: 'Premium Coca Leaves', cost: 210, effect: 'Focused', drugType: 'cocaine' },\r\n  { name: 'Heavenly Coca Leaves', cost: 210, effect: 'Thought-Provoking', drugType: 'cocaine' }\r\n];\r\n\r\nexport const ingredients = [\r\n    { \r\n      name: 'Cuke', \r\n      cost: 2, \r\n      emoji: 'ü•§', \r\n      defaultEffect: 'Energizing',\r\n      interactions: [\r\n        { if: 'Toxic', replaceWith: 'Euphoric' },\r\n        { if: 'Slippery', replaceWith: 'Munchies' },\r\n        { if: 'Sneaky', replaceWith: 'Paranoia' },\r\n        { if: 'Foggy', replaceWith: 'Cyclopean' },\r\n        { if: 'Gingeritis', replaceWith: 'Thought-Provoking' },\r\n        { if: 'Munchies', replaceWith: 'Athletic' },\r\n        { if: 'Euphoric', replaceWith: 'Laxative' }\r\n      ] \r\n    },\r\n    { \r\n      name: 'Banana', \r\n      cost: 2, \r\n      emoji: 'üçå',\r\n      defaultEffect: 'Gingeritis',\r\n      interactions: [\r\n        { if: 'Energizing', replaceWith: 'Thought-Provoking' },\r\n        { if: 'Calming', replaceWith: 'Sneaky' },\r\n        { if: 'Toxic', replaceWith: 'Smelly' },\r\n        { if: 'Long-Faced', replaceWith: 'Refreshing' },\r\n        { if: 'Cyclopean', replaceWith: 'Thought-Provoking' },\r\n        { if: 'Disorienting', replaceWith: 'Focused' },\r\n        { if: 'Focused', replaceWith: 'Seizure-Inducing' },\r\n        { if: 'Paranoia', replaceWith: 'Jennerising' },\r\n        { if: 'Smelly', replaceWith: 'Anti-Gravity' }\r\n      ]\r\n    },\r\n    { \r\n      name: 'Paracetamol', \r\n      cost: 3, \r\n      emoji: '‚ö™',\r\n      defaultEffect: 'Sneaky',\r\n      interactions: [\r\n        { if: 'Energizing', replaceWith: 'Paranoia' },\r\n        { if: 'Calming', replaceWith: 'Slippery' },\r\n        { if: 'Toxic', replaceWith: 'Tropic Thunder' },\r\n        { if: 'Spicy', replaceWith: 'Bright-Eyed' },\r\n        { if: 'Glowing', replaceWith: 'Toxic' },\r\n        { if: 'Foggy', replaceWith: 'Calming' },\r\n        { if: 'Munchies', replaceWith: 'Anti-Gravity' },\r\n        { if: 'Paranoia', replaceWith: 'Balding' },\r\n        { if: 'Electrifying', replaceWith: 'Athletic' },\r\n        { if: 'Focused', replaceWith: 'Gingeritis' }\r\n      ]\r\n    },\r\n    { \r\n      name: 'Donut', \r\n      cost: 3, \r\n      emoji: 'üç©',\r\n      defaultEffect: 'Calorie-Dense',\r\n      interactions: [\r\n        { if: 'Calorie-Dense', replaceWith: 'Explosive' },\r\n        { if: 'Balding', replaceWith: 'Sneaky' },\r\n        { if: 'Anti-Gravity', replaceWith: 'Slippery' },\r\n        { if: 'Jennerising', replaceWith: 'Gingeritis' },\r\n        { if: 'Focused', replaceWith: 'Euphoric' },\r\n        { if: 'Shrinking', replaceWith: 'Energizing' }\r\n      ]\r\n    },\r\n    { \r\n      name: 'Viagra', \r\n      cost: 4, \r\n      emoji: 'üçÜ',\r\n      defaultEffect: 'Tropic Thunder',\r\n      interactions: [\r\n        { if: 'Athletic', replaceWith: 'Sneaky' },\r\n        { if: 'Euphoric', replaceWith: 'Bright-Eyed' },\r\n        { if: 'Laxative', replaceWith: 'Calming' },\r\n        { if: 'Disorienting', replaceWith: 'Toxic' }\r\n      ]\r\n    },\r\n    { \r\n      name: 'Mouth Wash', \r\n      cost: 4, \r\n      emoji: 'üíß',\r\n      defaultEffect: 'Balding',\r\n      interactions: [\r\n        { if: 'Calming', replaceWith: 'Anti-Gravity' },\r\n        { if: 'Calorie-Dense', replaceWith: 'Sneaky' },\r\n        { if: 'Explosive', replaceWith: 'Sedating' },\r\n        { if: 'Focused', replaceWith: 'Jennerising' }\r\n      ]\r\n    },\r\n    { \r\n      name: 'Flu Medicine', \r\n      cost: 5, \r\n      emoji: 'üçá',\r\n      defaultEffect: 'Sedating',\r\n      interactions: [\r\n        { if: 'Calming', replaceWith: 'Bright-Eyed' },\r\n        { if: 'Athletic', replaceWith: 'Munchies' },\r\n        { if: 'Thought-Provoking', replaceWith: 'Gingeritis' },\r\n        { if: 'Cyclopean', replaceWith: 'Foggy' },\r\n        { if: 'Munchies', replaceWith: 'Slippery' },\r\n        { if: 'Laxative', replaceWith: 'Euphoric' },\r\n        { if: 'Euphoric', replaceWith: 'Toxic' },\r\n        { if: 'Focused', replaceWith: 'Calming' },\r\n        { if: 'Electrifying', replaceWith: 'Refreshing' },\r\n        { if: 'Shrinking', replaceWith: 'Paranoia' }\r\n      ]\r\n    },\r\n    { \r\n      name: 'Gasoline', \r\n      cost: 5, \r\n      emoji: '‚õΩ',\r\n      defaultEffect: 'Toxic',\r\n      interactions: [\r\n        { if: 'Gingeritis', replaceWith: 'Smelly' },\r\n        { if: 'Jennerising', replaceWith: 'Sneaky' },\r\n        { if: 'Sneaky', replaceWith: 'Tropic Thunder' },\r\n        { if: 'Munchies', replaceWith: 'Sedating' },\r\n        { if: 'Energizing', replaceWith: 'Euphoric' },\r\n        { if: 'Euphoric', replaceWith: 'Energizing' },\r\n        { if: 'Laxative', replaceWith: 'Foggy' },\r\n        { if: 'Disorienting', replaceWith: 'Glowing' },\r\n        { if: 'Paranoia', replaceWith: 'Calming' },\r\n        { if: 'Electrifying', replaceWith: 'Disorienting' },\r\n        { if: 'Shrinking', replaceWith: 'Focused' }\r\n      ]\r\n    },\r\n    { \r\n      name: 'Energy Drink', \r\n      cost: 6, \r\n      emoji: 'üêÇ',\r\n      defaultEffect: 'Athletic',\r\n      interactions: [\r\n        { if: 'Sedating', replaceWith: 'Munchies' },\r\n        { if: 'Euphoric', replaceWith: 'Energizing' },\r\n        { if: 'Spicy', replaceWith: 'Euphoric' },\r\n        { if: 'Tropic Thunder', replaceWith: 'Sneaky' },\r\n        { if: 'Glowing', replaceWith: 'Disorienting' },\r\n        { if: 'Foggy', replaceWith: 'Laxative' },\r\n        { if: 'Disorienting', replaceWith: 'Electrifying' },\r\n        { if: 'Schizophrenia', replaceWith: 'Balding' },\r\n        { if: 'Focused', replaceWith: 'Shrinking' }\r\n      ]\r\n    },\r\n    { \r\n      name: 'Motor Oil', \r\n      cost: 6, \r\n      emoji: 'üõ¢Ô∏è',\r\n      defaultEffect: 'Slippery',\r\n      interactions: [\r\n        { if: 'Energizing', replaceWith: 'Munchies' },\r\n        { if: 'Foggy', replaceWith: 'Toxic' },\r\n        { if: 'Euphoric', replaceWith: 'Sedating' },\r\n        { if: 'Paranoia', replaceWith: 'Anti-Gravity' },\r\n        { if: 'Munchies', replaceWith: 'Schizophrenia' }\r\n      ]\r\n    },\r\n    { \r\n      name: 'Mega Bean', \r\n      cost: 7, \r\n      emoji: 'ü´õ',\r\n      defaultEffect: 'Foggy',\r\n      interactions: [\r\n        { if: 'Energizing', replaceWith: 'Cyclopean' },\r\n        { if: 'Calming', replaceWith: 'Glowing' },\r\n        { if: 'Athletic', replaceWith: 'Laxative' },\r\n        { if: 'Sneaky', replaceWith: 'Calming' },\r\n        { if: 'Jennerising', replaceWith: 'Paranoia' },\r\n        { if: 'Slippery', replaceWith: 'Toxic' },\r\n        { if: 'Thought-Provoking', replaceWith: 'Energizing' },\r\n        { if: 'Seizure-Inducing', replaceWith: 'Focused' },\r\n        { if: 'Focused', replaceWith: 'Disorienting' },\r\n        { if: 'Shrinking', replaceWith: 'Electrifying' }\r\n      ]\r\n    },\r\n    { \r\n      name: 'Chili', \r\n      cost: 7, \r\n      emoji: 'üå∂Ô∏è',\r\n      defaultEffect: 'Spicy',\r\n      interactions: [\r\n        { if: 'Athletic', replaceWith: 'Euphoric' },\r\n        { if: 'Anti-Gravity', replaceWith: 'Tropic Thunder' },\r\n        { if: 'Sneaky', replaceWith: 'Bright-Eyed' },\r\n        { if: 'Munchies', replaceWith: 'Toxic' },\r\n        { if: 'Laxative', replaceWith: 'Long-Faced' },\r\n        { if: 'Shrinking', replaceWith: 'Refreshing' }\r\n      ]\r\n    },\r\n    { \r\n      name: 'Battery', \r\n      cost: 8, \r\n      emoji: 'üîã',\r\n      defaultEffect: 'Bright-Eyed',\r\n      interactions: [\r\n        { if: 'Munchies', replaceWith: 'Tropic Thunder' },\r\n        { if: 'Euphoric', replaceWith: 'Zombifying' },\r\n        { if: 'Electrifying', replaceWith: 'Euphoric' },\r\n        { if: 'Laxative', replaceWith: 'Calorie-Dense' },\r\n        { if: 'Cyclopean', replaceWith: 'Glowing' },\r\n        { if: 'Shrinking', replaceWith: 'Munchies' }\r\n      ]\r\n    },\r\n    { \r\n      name: 'Iodine', \r\n      cost: 8, \r\n      emoji: 'üü†',\r\n      defaultEffect: 'Jennerising',\r\n      interactions: [\r\n        { if: 'Calming', replaceWith: 'Balding' },\r\n        { if: 'Toxic', replaceWith: 'Sneaky' },\r\n        { if: 'Foggy', replaceWith: 'Paranoia' },\r\n        { if: 'Calorie-Dense', replaceWith: 'Gingeritis' },\r\n        { if: 'Euphoric', replaceWith: 'Seizure-Inducing' },\r\n        { if: 'Refreshing', replaceWith: 'Thought-Provoking' }\r\n      ]\r\n    },\r\n    { \r\n      name: 'Addy', \r\n      cost: 9, \r\n      emoji: 'üíä',\r\n      defaultEffect: 'Thought-Provoking',\r\n      interactions: [\r\n        { if: 'Sedating', replaceWith: 'Gingeritis' },\r\n        { if: 'Long-Faced', replaceWith: 'Electrifying' },\r\n        { if: 'Glowing', replaceWith: 'Refreshing' },\r\n        { if: 'Foggy', replaceWith: 'Energizing' },\r\n        { if: 'Explosive', replaceWith: 'Euphoric' }\r\n      ]\r\n    },\r\n    { \r\n      name: 'Horse Semen', \r\n      cost: 9, \r\n      emoji: 'üê¥',\r\n      defaultEffect: 'Long-Faced',\r\n      interactions: [\r\n        { if: 'Anti-Gravity', replaceWith: 'Calming' },\r\n        { if: 'Gingeritis', replaceWith: 'Refreshing' },\r\n        { if: 'Thought-Provoking', replaceWith: 'Electrifying' }\r\n      ]\r\n    },\r\n    \r\n    // Meth-specific ingredients\r\n    { \r\n      name: 'Glass Shards', \r\n      cost: 10, \r\n      emoji: 'üîç',\r\n      defaultEffect: 'Explosive',\r\n      interactions: [\r\n        { if: 'Energizing', replaceWith: 'Electrifying' },\r\n        { if: 'Bright-Eyed', replaceWith: 'Explosive' }\r\n      ]\r\n    },\r\n    { \r\n      name: 'Blue Food Coloring', \r\n      cost: 12, \r\n      emoji: 'üîµ',\r\n      defaultEffect: 'Glowing',\r\n      interactions: [\r\n        { if: 'Energizing', replaceWith: 'Calming' },\r\n        { if: 'Electrifying', replaceWith: 'Glowing' }\r\n      ]\r\n    },\r\n    \r\n    // Cocaine-specific ingredients\r\n    { \r\n      name: 'Baking Soda', \r\n      cost: 8, \r\n      emoji: 'üßÇ',\r\n      defaultEffect: 'Euphoric',\r\n      interactions: [\r\n        { if: 'Euphoric', replaceWith: 'Energizing' },\r\n        { if: 'Focused', replaceWith: 'Athletic' }\r\n      ]\r\n    },\r\n    { \r\n      name: 'Caffeine Powder', \r\n      cost: 15, \r\n      emoji: '‚òï',\r\n      defaultEffect: 'Energizing',\r\n      interactions: [\r\n        { if: 'Euphoric', replaceWith: 'Bright-Eyed' },\r\n        { if: 'Thought-Provoking', replaceWith: 'Energizing' }\r\n      ]\r\n    }\r\n];\r\n\r\n// For backwards compatibility with existing code\r\nexport const additiveEffects = ingredients.reduce((acc, ingredient) => {\r\n  acc[ingredient.name] = ingredient.defaultEffect;\r\n  return acc;\r\n}, {});\r\n\r\nexport const effectColors = {\r\n    'Anti-Gravity': '#143371',\r\n    'Athletic': '#4d85a8',\r\n    'Balding': '#735620',\r\n    'Bright-Eyed': '#8bc7d2',\r\n    'Calming': '#bda588',\r\n    'Calorie-Dense': '#a3569f',\r\n    'Cyclopean': '#9c784a',\r\n    'Disorienting': '#964733',\r\n    'Electrifying': '#3680a3',\r\n    'Energizing': '#65a94b',\r\n    'Euphoric': '#898043',\r\n    'Explosive': '#932d29',\r\n    'Focused': '#41868f',\r\n    'Foggy': '#686a6b',\r\n    'Gingeritis': '#9c551c',\r\n    'Glowing': '#538e3a',\r\n    'Jennerising': '#925292',\r\n    'Laxative': '#4c281a',\r\n    'Lethal': '#6c1f1a',\r\n    'Long-Faced': '#8b7839',\r\n    'Munchies': '#8b7839',\r\n    'Paranoia': '#733e3d',\r\n    'Refreshing': '#608955',\r\n    'Schizophrenia': '#302d7d',\r\n    'Sedating': '#302c63',\r\n    'Seizure-Inducing': '#817804',\r\n    'Shrinking': '#689280',\r\n    'Slippery': '#5d8195',\r\n    'Smelly': '#4f7822',\r\n    'Sneaky': '#474849',\r\n    'Spicy': '#984231',\r\n    'Thought-Provoking': '#a86b88',\r\n    'Toxic': '#3d6523',\r\n    'Tropic Thunder': '#8c592b',\r\n    'Zombifying': '#558248'\r\n};\r\n\r\n// Drug type information\r\nexport const drugTypes = {\r\n  'weed': {\r\n    name: 'Weed',\r\n    emoji: 'üåø',\r\n    basePrice: 35,\r\n    description: 'Classic cannabis. Each seed produces 12 buds.',\r\n    yieldAmount: 12,\r\n    unit: 'buds'\r\n  },\r\n  'meth': {\r\n    name: 'Meth',\r\n    emoji: 'üíé',\r\n    basePrice: 70,\r\n    description: 'Crystal methamphetamine. Each batch produces 10 crystals.',\r\n    yieldAmount: 10,\r\n    unit: 'crystals'\r\n  },\r\n  'cocaine': {\r\n    name: 'Cocaine',\r\n    emoji: '‚ùÑÔ∏è',\r\n    basePrice: 90,\r\n    description: 'Refined cocaine powder. Each batch produces 10 grams.',\r\n    yieldAmount: 10,\r\n    unit: 'grams'\r\n  }\r\n};\r\n\r\nexport const effectDetails = {\r\n  'Anti-Gravity': { \r\n    multiplier: 0.54, \r\n    type: 'Ability', \r\n    description: 'Causes user to jump higher.'\r\n  },\r\n  'Athletic': { \r\n    multiplier: 0.32, \r\n    type: 'Ability', \r\n    description: 'Causes user to run faster.'\r\n  },\r\n  'Balding': { \r\n    multiplier: 0.30, \r\n    type: 'Cosmetic', \r\n    description: 'Causes user to be bald.'\r\n  },\r\n  'Bright-Eyed': { \r\n    multiplier: 0.40, \r\n    type: 'Ability', \r\n    description: 'Causes user\\'s eyes to shine flashlight beams.'\r\n  },\r\n  'Calming': { \r\n    multiplier: 0.10, \r\n    type: 'Cosmetic', \r\n    description: 'Causes user to have chromatic aberration around screen.'\r\n  },\r\n  'Calorie-Dense': { \r\n    multiplier: 0.28, \r\n    type: 'Cosmetic', \r\n    description: 'Causes user to appear fat.'\r\n  },\r\n  'Cyclopean': { \r\n    multiplier: 0.56, \r\n    type: 'Cosmetic', \r\n    description: 'Causes user to only have one eye.'\r\n  },\r\n  'Disorienting': { \r\n    multiplier: 0.00, \r\n    type: 'Ability', \r\n    description: 'Causes camera controls for up and down and movement controls for left and right to be inverted.'\r\n  },\r\n  'Electrifying': { \r\n    multiplier: 0.50, \r\n    type: 'Cosmetic', \r\n    description: 'Causes lightning effect on user.'\r\n  },\r\n  'Energizing': { \r\n    multiplier: 0.22, \r\n    type: 'Ability', \r\n    description: 'Causes user to run faster.'\r\n  },\r\n  'Euphoric': { \r\n    multiplier: 0.18, \r\n    type: 'Cosmetic', \r\n    description: 'Causes visual effects and improved mood.'\r\n  },\r\n  'Explosive': { \r\n    multiplier: 0.00, \r\n    type: 'Ability', \r\n    description: 'Causes user to explode after ticking countdown, killing the user and damaging NPCs in the vicinity.'\r\n  },\r\n  'Focused': { \r\n    multiplier: 0.16, \r\n    type: 'Cosmetic', \r\n    description: 'Causes user to have chromatic aberration around screen.'\r\n  },\r\n  'Foggy': { \r\n    multiplier: 0.36, \r\n    type: 'Cosmetic', \r\n    description: 'Causes a fog cloud effect around user. Also causes user to perceive the world as extremely foggy, significantly limiting visibility.'\r\n  },\r\n  'Gingeritis': { \r\n    multiplier: 0.20, \r\n    type: 'Cosmetic', \r\n    description: 'Causes user to have red hair.'\r\n  },\r\n  'Glowing': { \r\n    multiplier: 0.48, \r\n    type: 'Cosmetic', \r\n    description: 'Causes user to have a radioactive glow.'\r\n  },\r\n  'Jennerising': { \r\n    multiplier: 0.42, \r\n    type: 'Cosmetic', \r\n    description: 'Causes user to appear female.'\r\n  },\r\n  'Laxative': { \r\n    multiplier: 0.00, \r\n    type: 'Cosmetic', \r\n    description: 'Causes user to constantly soil themselves.'\r\n  },\r\n  'Long-Faced': { \r\n    multiplier: 0.52, \r\n    type: 'Cosmetic', \r\n    description: 'Causes user\\'s neck and face to grow.'\r\n  },\r\n  'Munchies': { \r\n    multiplier: 0.12, \r\n    type: 'Ability', \r\n    description: 'Causes user to feel hungry.'\r\n  },\r\n  'Paranoia': { \r\n    multiplier: 0.00, \r\n    type: 'Ability', \r\n    description: 'Causes user to experience paranoia effects.'\r\n  },\r\n  'Refreshing': { \r\n    multiplier: 0.14, \r\n    type: 'Ability', \r\n    description: 'Causes rejuvenating effects.'\r\n  },\r\n  'Schizophrenia': { \r\n    multiplier: 0.00, \r\n    type: 'Ability', \r\n    description: 'Causes user to hear voices and see things.'\r\n  },\r\n  'Sedating': { \r\n    multiplier: 0.26, \r\n    type: 'Cosmetic', \r\n    description: 'Causes user to have a vignette around screen and mouse smoothing.'\r\n  },\r\n  'Seizure-Inducing': { \r\n    multiplier: 0.00, \r\n    type: 'Cosmetic', \r\n    description: 'Causes user to have a seizure and shake on the ground.'\r\n  },\r\n  'Shrinking': { \r\n    multiplier: 0.60, \r\n    type: 'Cosmetic', \r\n    description: 'Causes user to shrink.'\r\n  },\r\n  'Slippery': { \r\n    multiplier: 0.34, \r\n    type: 'Ability', \r\n    description: 'Causes user to have sluggish, slippery movement.'\r\n  },\r\n  'Smelly': { \r\n    multiplier: 0.00, \r\n    type: 'Cosmetic', \r\n    description: 'Causes user to have a stinky cloud around them.'\r\n  },\r\n  'Sneaky': { \r\n    multiplier: 0.24, \r\n    type: 'Ability', \r\n    description: 'Improves stealth capabilities.'\r\n  },\r\n  'Spicy': { \r\n    multiplier: 0.38, \r\n    type: 'Cosmetic', \r\n    description: 'Causes user\\'s head to light on fire.'\r\n  },\r\n  'Thought-Provoking': { \r\n    multiplier: 0.44, \r\n    type: 'Cosmetic', \r\n    description: 'Causes user\\'s head to grow in size.'\r\n  },\r\n  'Toxic': { \r\n    multiplier: 0.00, \r\n    type: 'Cosmetic', \r\n    description: 'Causes user to vomit.'\r\n  },\r\n  'Tropic Thunder': { \r\n    multiplier: 0.46, \r\n    type: 'Cosmetic', \r\n    description: 'Causes user to have black skin.'\r\n  },\r\n  'Zombifying': { \r\n    multiplier: 0.58, \r\n    type: 'Cosmetic', \r\n    description: 'Causes user to have green skin and have a zombie-like voice.'\r\n  }\r\n};\r\n\r\nexport const calculateEffectMultiplier = (currentEffects) => {\r\n  // Add a safety check to ensure currentEffects is an array\r\n  if (!currentEffects || !Array.isArray(currentEffects) || currentEffects.length === 0) {\r\n    return 0;\r\n  }\r\n  \r\n  // Sum up the multipliers for all effects\r\n  return currentEffects.reduce((total, effect) => {\r\n    return total + (effectDetails[effect]?.multiplier || 0);\r\n  }, 0);\r\n};\r\n\r\n// Updated sequential mixing function with proper interaction application\r\nexport const calculateStrainEffects = (seedEffect, ingredientsSequence) => {\r\n  if (!seedEffect || !ingredientsSequence || ingredientsSequence.length === 0) {\r\n    return {\r\n      finalEffects: seedEffect ? [seedEffect] : [],\r\n      mixingHistory: seedEffect ? [{\r\n        step: 0,\r\n        ingredient: \"Base Seed\",\r\n        effectsBefore: [],\r\n        effectsAfter: [seedEffect],\r\n        changes: [`Added ${seedEffect}`]\r\n      }] : []\r\n    };\r\n  }\r\n  \r\n  // Start with the seed effect\r\n  let currentEffects = [seedEffect];\r\n  \r\n  // Store the history of effect changes for UI display\r\n  const mixingHistory = [{\r\n    step: 0,\r\n    ingredient: \"Base Seed\",\r\n    effectsBefore: [],\r\n    effectsAfter: [...currentEffects],\r\n    changes: [`Added ${seedEffect}`]\r\n  }];\r\n  \r\n  // Process each ingredient one by one in sequence\r\n  ingredientsSequence.forEach((ingredient, index) => {\r\n    const effectsBefore = [...currentEffects];\r\n    \r\n    // 1. Apply interactions (transformations) based on this ingredient\r\n    if (ingredient.interactions && ingredient.interactions.length > 0) {\r\n      // Create a new array for the effects after transformations\r\n      let transformedEffects = [...currentEffects];\r\n      \r\n      // For each interaction rule, check if the effect exists and transform it\r\n      // ONLY if the replacement effect is not already present\r\n      ingredient.interactions.forEach(interaction => {\r\n        const effectIndex = transformedEffects.findIndex(effect => effect === interaction.if);\r\n        \r\n        // Only apply transformation if:\r\n        // 1. The target effect exists AND\r\n        // 2. The replacement effect is NOT already in the effects list\r\n        if (effectIndex !== -1 && !transformedEffects.includes(interaction.replaceWith)) {\r\n          transformedEffects[effectIndex] = interaction.replaceWith;\r\n        }\r\n      });\r\n      \r\n      currentEffects = transformedEffects;\r\n    }\r\n    \r\n    // Track what effects changed due to interactions\r\n    const transformations = [];\r\n    for (let i = 0; i < Math.min(effectsBefore.length, currentEffects.length); i++) {\r\n      if (currentEffects[i] !== effectsBefore[i]) {\r\n        transformations.push(`${effectsBefore[i]} ‚Üí ${currentEffects[i]}`);\r\n      }\r\n    }\r\n    \r\n    // 2. Add the ingredient's default effect if not already present and under the 8 effects limit\r\n    const defaultEffect = ingredient.defaultEffect;\r\n    \r\n    if (defaultEffect && currentEffects.length < 8 && !currentEffects.includes(defaultEffect)) {\r\n      currentEffects.push(defaultEffect);\r\n      transformations.push(`Added ${defaultEffect}`);\r\n    }\r\n    \r\n    // Limit to maximum 8 effects\r\n    if (currentEffects.length > 8) {\r\n      const removed = currentEffects.slice(8);\r\n      currentEffects = currentEffects.slice(0, 8);\r\n      transformations.push(`Removed effects due to 8-effect limit: ${removed.join(', ')}`);\r\n    }\r\n    \r\n    // Record this step in the mixing history\r\n    mixingHistory.push({\r\n      step: index + 1,\r\n      ingredient: ingredient.name,\r\n      effectsBefore: effectsBefore,\r\n      effectsAfter: [...currentEffects],\r\n      changes: transformations.length > 0 ? transformations : [\"No change\"]\r\n    });\r\n  });\r\n  \r\n  // Return both the final effects and the history for UI display\r\n  return {\r\n    finalEffects: currentEffects,\r\n    mixingHistory: mixingHistory\r\n  };\r\n};\r\n\r\n// Helper function to check what would happen if we add a specific ingredient next\r\nexport const simulateAddIngredient = (currentEffects, ingredient) => {\r\n  if (!currentEffects || !ingredient) return { newEffects: [...currentEffects] };\r\n  \r\n  // Clone current effects\r\n  let newEffects = [...currentEffects];\r\n  const transformations = [];\r\n  \r\n  // Apply interactions\r\n  if (ingredient.interactions && ingredient.interactions.length > 0) {\r\n    ingredient.interactions.forEach(interaction => {\r\n      const effectIndex = newEffects.findIndex(effect => effect === interaction.if);\r\n      \r\n      // Only apply transformation if:\r\n      // 1. The target effect exists AND \r\n      // 2. The replacement effect is NOT already in the effects list\r\n      if (effectIndex !== -1 && !newEffects.includes(interaction.replaceWith)) {\r\n        const oldEffect = newEffects[effectIndex];\r\n        newEffects[effectIndex] = interaction.replaceWith;\r\n        transformations.push({\r\n          from: oldEffect,\r\n          to: interaction.replaceWith\r\n        });\r\n      }\r\n    });\r\n  }\r\n  \r\n  // Add default effect if possible\r\n  let addedDefaultEffect = false;\r\n  if (ingredient.defaultEffect && newEffects.length < 8 && !newEffects.includes(ingredient.defaultEffect)) {\r\n    newEffects.push(ingredient.defaultEffect);\r\n    addedDefaultEffect = true;\r\n  }\r\n  \r\n  return {\r\n    newEffects,\r\n    transformations,\r\n    addedDefaultEffect,\r\n    defaultEffect: ingredient.defaultEffect\r\n  };\r\n};\r\n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}