{"ast":null,"code":"// SupplyManagementTab.js\nimport React,{useState}from'react';import{Package,ShoppingBag,AlertTriangle,Search,ArrowUp,ArrowDown}from'lucide-react';// Supply Management Tab Component\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const SupplyManagementTab=_ref=>{let{supplies={seeds:{},ingredients:{},packaging:{baggies:0,jars:0}},// Add default value\nsetSupplies,supplyHistory=[],// Add default value\nsetSupplyHistory,productionPlans=[],// Add default value\ndrugTypes,seedTypes,ingredients}=_ref;const[activeTab,setActiveTab]=useState('inventory');const[searchTerm,setSearchTerm]=useState('');const[showLowStock,setShowLowStock]=useState(false);const[sortColumn,setSortColumn]=useState('name');const[sortDirection,setSortDirection]=useState('asc');const[purchaseForm,setPurchaseForm]=useState({itemType:'seed',itemId:'',quantity:1,cost:0});// Helper function to get required supplies for all production plans\nconst calculateRequiredSupplies=()=>{const requiredSupplies={seeds:{},ingredients:{},packaging:{baggies:0,jars:0}};productionPlans.forEach(plan=>{// Skip sold plans\nif(plan.status==='sold')return;// Add seed requirements\nplan.totalIngredientNeeds.forEach(item=>{if(item.name.includes('Seed')||item.name.includes('Leaves')||item.name.includes('Pseudo')){// This is a seed item\nrequiredSupplies.seeds[item.name]=(requiredSupplies.seeds[item.name]||0)+item.quantity;}else{// This is an ingredient\nrequiredSupplies.ingredients[item.name]=(requiredSupplies.ingredients[item.name]||0)+item.quantity;}});// Add packaging requirements\nif(plan.packagingNeeded.type==='baggies'){requiredSupplies.packaging.baggies+=plan.packagingNeeded.quantity;}else{requiredSupplies.packaging.jars+=plan.packagingNeeded.quantity;}});return requiredSupplies;};// Calculate which supplies are low or missing\nconst calculateSupplyStatus=()=>{const required=calculateRequiredSupplies();const status={seeds:{},ingredients:{},packaging:{baggies:0,jars:0}};// Check seeds\nfor(const[name,requiredQty]of Object.entries(required.seeds)){const inStock=supplies.seeds[name]||0;status.seeds[name]={required:requiredQty,inStock,shortage:Math.max(0,requiredQty-inStock)};}// Check ingredients\nfor(const[name,requiredQty]of Object.entries(required.ingredients)){const inStock=supplies.ingredients[name]||0;status.ingredients[name]={required:requiredQty,inStock,shortage:Math.max(0,requiredQty-inStock)};}// Check packaging\nstatus.packaging.baggies={required:required.packaging.baggies,inStock:supplies.packaging.baggies,shortage:Math.max(0,required.packaging.baggies-supplies.packaging.baggies)};status.packaging.jars={required:required.packaging.jars,inStock:supplies.packaging.jars,shortage:Math.max(0,required.packaging.jars-supplies.packaging.jars)};return status;};// Handle form changes\nconst handlePurchaseFormChange=e=>{const{name,value}=e.target;// Auto-calculate cost if seed or ingredient is selected\nif(name==='itemId'&&purchaseForm.itemType!=='packaging'){let costPerUnit=0;if(purchaseForm.itemType==='seed'){const seed=seedTypes.find(seed=>seed.name===value);costPerUnit=seed?seed.cost:0;}else{const ingredient=ingredients.find(ing=>ing.name===value);costPerUnit=ingredient?ingredient.cost:0;}setPurchaseForm({...purchaseForm,[name]:value,cost:costPerUnit*purchaseForm.quantity});}else if(name==='quantity'){// Recalculate cost when quantity changes\nlet costPerUnit=0;if(purchaseForm.itemType==='seed'&&purchaseForm.itemId){const seed=seedTypes.find(seed=>seed.name===purchaseForm.itemId);costPerUnit=seed?seed.cost:0;}else if(purchaseForm.itemType==='ingredient'&&purchaseForm.itemId){const ingredient=ingredients.find(ing=>ing.name===purchaseForm.itemId);costPerUnit=ingredient?ingredient.cost:0;}else if(purchaseForm.itemType==='packaging'){costPerUnit=purchaseForm.itemId==='baggies'?1:3;}setPurchaseForm({...purchaseForm,[name]:parseInt(value)||1,cost:costPerUnit*(parseInt(value)||1)});}else if(name==='itemType'){// Reset itemId when type changes\nsetPurchaseForm({...purchaseForm,[name]:value,itemId:'',cost:0});}else{setPurchaseForm({...purchaseForm,[name]:value});}};// Handle purchase form submission\nconst handlePurchase=e=>{e.preventDefault();if(!purchaseForm.itemId||purchaseForm.quantity<=0)return;// Create transaction record\nconst transaction={id:Date.now(),itemType:purchaseForm.itemType,itemName:purchaseForm.itemId,quantity:purchaseForm.quantity,cost:purchaseForm.cost,date:new Date().toISOString()};// Update supply history\nsetSupplyHistory([...supplyHistory,transaction]);// Update supplies\nconst newSupplies={...supplies};if(purchaseForm.itemType==='seed'){newSupplies.seeds[purchaseForm.itemId]=(newSupplies.seeds[purchaseForm.itemId]||0)+purchaseForm.quantity;}else if(purchaseForm.itemType==='ingredient'){newSupplies.ingredients[purchaseForm.itemId]=(newSupplies.ingredients[purchaseForm.itemId]||0)+purchaseForm.quantity;}else if(purchaseForm.itemType==='packaging'){newSupplies.packaging[purchaseForm.itemId]+=purchaseForm.quantity;}setSupplies(newSupplies);// Reset form\nsetPurchaseForm({itemType:'seed',itemId:'',quantity:1,cost:0});};// Handle sorting\nconst handleSort=column=>{if(sortColumn===column){setSortDirection(sortDirection==='asc'?'desc':'asc');}else{setSortColumn(column);setSortDirection('asc');}};// Filter and sort inventory items\nconst getFilteredAndSortedInventory=()=>{const allItems=[];// Convert seeds to array\nObject.entries(supplies.seeds).forEach(_ref2=>{let[name,quantity]=_ref2;if(quantity>0){const seed=seedTypes.find(s=>s.name===name);allItems.push({id:name,name,type:'seed',category:seed?seed.drugType:'unknown',quantity,cost:seed?seed.cost:0,isLowStock:false});}});// Convert ingredients to array\nObject.entries(supplies.ingredients).forEach(_ref3=>{let[name,quantity]=_ref3;if(quantity>0){const ingredient=ingredients.find(i=>i.name===name);allItems.push({id:name,name,type:'ingredient',category:'ingredient',quantity,cost:ingredient?ingredient.cost:0,isLowStock:false});}});// Add packaging\nif(supplies.packaging.baggies>0){allItems.push({id:'baggies',name:'Baggies',type:'packaging',category:'packaging',quantity:supplies.packaging.baggies,cost:1,isLowStock:false});}if(supplies.packaging.jars>0){allItems.push({id:'jars',name:'Jars',type:'packaging',category:'packaging',quantity:supplies.packaging.jars,cost:3,isLowStock:false});}// Mark low stock items based on production requirements\nconst supplyStatus=calculateSupplyStatus();allItems.forEach(item=>{if(item.type==='seed'){const seedStatus=supplyStatus.seeds[item.name];if(seedStatus&&seedStatus.shortage>0){item.isLowStock=true;item.required=seedStatus.required;item.shortage=seedStatus.shortage;}}else if(item.type==='ingredient'){const ingredientStatus=supplyStatus.ingredients[item.name];if(ingredientStatus&&ingredientStatus.shortage>0){item.isLowStock=true;item.required=ingredientStatus.required;item.shortage=ingredientStatus.shortage;}}else if(item.type==='packaging'){const packagingStatus=supplyStatus.packaging[item.id];if(packagingStatus&&packagingStatus.shortage>0){item.isLowStock=true;item.required=packagingStatus.required;item.shortage=packagingStatus.shortage;}}});// Filter by search term\nlet filteredItems=allItems;if(searchTerm){filteredItems=allItems.filter(item=>item.name.toLowerCase().includes(searchTerm.toLowerCase()));}// Filter by low stock\nif(showLowStock){filteredItems=filteredItems.filter(item=>item.isLowStock);}// Sort items\nfilteredItems.sort((a,b)=>{let aValue=a[sortColumn];let bValue=b[sortColumn];if(typeof aValue==='string'){aValue=aValue.toLowerCase();bValue=bValue.toLowerCase();}if(aValue<bValue)return sortDirection==='asc'?-1:1;if(aValue>bValue)return sortDirection==='asc'?1:-1;return 0;});return filteredItems;};// Render the sort icon\nconst renderSortIcon=column=>{if(sortColumn!==column)return null;return sortDirection==='asc'?/*#__PURE__*/_jsx(ArrowUp,{className:\"w-4 h-4 ml-1 inline-block text-blue-500\"}):/*#__PURE__*/_jsx(ArrowDown,{className:\"w-4 h-4 ml-1 inline-block text-blue-500\"});};// Get list of required supplies for rendering\nconst getRequiredSuppliesList=()=>{const status=calculateSupplyStatus();const requiredItems=[];// Add seeds with shortages\nfor(const[name,data]of Object.entries(status.seeds)){if(data.shortage>0){const seed=seedTypes.find(s=>s.name===name);requiredItems.push({id:name,name,type:'seed',category:seed?seed.drugType:'unknown',required:data.required,inStock:data.inStock,shortage:data.shortage,cost:seed?seed.cost:0,totalCost:(seed?seed.cost:0)*data.shortage});}}// Add ingredients with shortages\nfor(const[name,data]of Object.entries(status.ingredients)){if(data.shortage>0){const ingredient=ingredients.find(i=>i.name===name);requiredItems.push({id:name,name,type:'ingredient',category:'ingredient',required:data.required,inStock:data.inStock,shortage:data.shortage,cost:ingredient?ingredient.cost:0,totalCost:(ingredient?ingredient.cost:0)*data.shortage});}}// Add packaging with shortages\nif(status.packaging.baggies.shortage>0){requiredItems.push({id:'baggies',name:'Baggies',type:'packaging',category:'packaging',required:status.packaging.baggies.required,inStock:status.packaging.baggies.inStock,shortage:status.packaging.baggies.shortage,cost:1,totalCost:1*status.packaging.baggies.shortage});}if(status.packaging.jars.shortage>0){requiredItems.push({id:'jars',name:'Jars',type:'packaging',category:'packaging',required:status.packaging.jars.required,inStock:status.packaging.jars.inStock,shortage:status.packaging.jars.shortage,cost:3,totalCost:3*status.packaging.jars.shortage});}return requiredItems;};// Calculate total cost for required supplies\nconst calculateTotalRequiredCost=()=>{return getRequiredSuppliesList().reduce((total,item)=>total+item.totalCost,0);};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-lg p-6 mt-8 border border-gray-200\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-2xl font-semibold text-gray-800 mb-6 flex items-center\",children:[/*#__PURE__*/_jsx(Package,{className:\"mr-2 w-6 h-6 text-orange-500\"}),\"Supply Management\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex border-b border-gray-200 mb-6 overflow-x-auto\",children:[/*#__PURE__*/_jsx(\"button\",{className:`py-2 px-4 font-medium text-sm ${activeTab==='inventory'?'text-orange-600 border-b-2 border-orange-600':'text-gray-500 hover:text-gray-700'}`,onClick:()=>setActiveTab('inventory'),children:\"Inventory\"}),/*#__PURE__*/_jsx(\"button\",{className:`py-2 px-4 font-medium text-sm ${activeTab==='purchase'?'text-orange-600 border-b-2 border-orange-600':'text-gray-500 hover:text-gray-700'}`,onClick:()=>setActiveTab('purchase'),children:\"Purchase Supplies\"}),/*#__PURE__*/_jsx(\"button\",{className:`py-2 px-4 font-medium text-sm ${activeTab==='required'?'text-orange-600 border-b-2 border-orange-600':'text-gray-500 hover:text-gray-700'}`,onClick:()=>setActiveTab('required'),children:\"Required Supplies\"}),/*#__PURE__*/_jsx(\"button\",{className:`py-2 px-4 font-medium text-sm ${activeTab==='history'?'text-orange-600 border-b-2 border-orange-600':'text-gray-500 hover:text-gray-700'}`,onClick:()=>setActiveTab('history'),children:\"Purchase History\"})]}),activeTab==='inventory'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-full md:w-64\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search inventory...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:\"w-full p-2 pl-9 text-sm border rounded-md\"}),/*#__PURE__*/_jsx(Search,{className:\"absolute left-2 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center ml-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"show-low-stock\",checked:showLowStock,onChange:()=>setShowLowStock(!showLowStock),className:\"mr-2\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"show-low-stock\",className:\"text-sm text-gray-600\",children:\"Show low stock only\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto border border-gray-200 rounded-lg\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer\",onClick:()=>handleSort('name'),children:[\"Name \",renderSortIcon('name')]}),/*#__PURE__*/_jsxs(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer\",onClick:()=>handleSort('type'),children:[\"Type \",renderSortIcon('type')]}),/*#__PURE__*/_jsxs(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer\",onClick:()=>handleSort('quantity'),children:[\"Quantity \",renderSortIcon('quantity')]}),/*#__PURE__*/_jsxs(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer\",onClick:()=>handleSort('cost'),children:[\"Cost/Unit \",renderSortIcon('cost')]}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Status\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:[getFilteredAndSortedInventory().map(item=>/*#__PURE__*/_jsxs(\"tr\",{className:`hover:bg-gray-50 ${item.isLowStock?'bg-red-50':''}`,children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\",children:item.name}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 capitalize\",children:item.type}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",children:item.quantity}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",children:[\"$\",item.cost]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:item.isLowStock?/*#__PURE__*/_jsxs(\"div\",{className:\"text-red-600 text-sm\",children:[/*#__PURE__*/_jsx(AlertTriangle,{className:\"inline-block mr-1 w-4 h-4\"}),\"Low Stock - Need \",item.shortage,\" more\"]}):/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800\",children:\"In Stock\"})})]},`${item.type}-${item.id}`)),getFilteredAndSortedInventory().length===0&&/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"5\",className:\"px-6 py-4 text-center text-sm text-gray-500\",children:\"No items found\"})})]})]})})]}),activeTab==='purchase'&&/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded-lg border border-gray-200\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-800 mb-4\",children:\"Purchase Supplies\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handlePurchase,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Item Type\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"itemType\",value:purchaseForm.itemType,onChange:handlePurchaseFormChange,className:\"w-full p-2 border rounded-md\",required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"seed\",children:\"Seeds\"}),/*#__PURE__*/_jsx(\"option\",{value:\"ingredient\",children:\"Ingredients\"}),/*#__PURE__*/_jsx(\"option\",{value:\"packaging\",children:\"Packaging\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Item\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"itemId\",value:purchaseForm.itemId,onChange:handlePurchaseFormChange,className:\"w-full p-2 border rounded-md\",required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select an item\"}),purchaseForm.itemType==='seed'&&seedTypes.map(seed=>/*#__PURE__*/_jsxs(\"option\",{value:seed.name,children:[seed.name,\" ($\",seed.cost,\")\"]},seed.name)),purchaseForm.itemType==='ingredient'&&ingredients.map(ingredient=>/*#__PURE__*/_jsxs(\"option\",{value:ingredient.name,children:[ingredient.name,\" ($\",ingredient.cost,\")\"]},ingredient.name)),purchaseForm.itemType==='packaging'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"option\",{value:\"baggies\",children:\"Baggies ($1 each)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"jars\",children:\"Jars ($3 each)\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Quantity\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"quantity\",min:\"1\",value:purchaseForm.quantity,onChange:handlePurchaseFormChange,className:\"w-full p-2 border rounded-md\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Total Cost\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full p-2 border rounded-md bg-gray-50\",children:[\"$\",purchaseForm.cost]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end\",children:/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:\"px-4 py-2 bg-orange-600 text-white rounded-md hover:bg-orange-700\",disabled:!purchaseForm.itemId||purchaseForm.quantity<=0,children:[/*#__PURE__*/_jsx(ShoppingBag,{className:\"w-4 h-4 mr-1 inline-block\"}),\"Purchase Supplies\"]})})]})]})}),activeTab==='required'&&/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-4 rounded-lg border border-gray-200\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-800 mb-2\",children:\"Supply Requirements\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mb-4\",children:\"Based on your active production plans, you need the following supplies:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto border border-gray-200 rounded-lg bg-white\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Item\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Type\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Required\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"In Stock\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Shortage\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Cost\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:[getRequiredSuppliesList().map(item=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\",children:item.name}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 capitalize\",children:item.type}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",children:item.required}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",children:item.inStock}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-red-600 font-medium\",children:item.shortage}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-blue-600\",children:[\"$\",item.totalCost]})]},`${item.type}-${item.id}`)),getRequiredSuppliesList().length===0&&/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"6\",className:\"px-6 py-4 text-center text-sm text-gray-500\",children:\"No supply shortages\"})})]})]})}),getRequiredSuppliesList().length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 bg-white p-4 rounded-lg border border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-800\",children:\"Total Cost for Missing Supplies\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xl font-bold text-blue-600\",children:[\"$\",calculateTotalRequiredCost()]})]})})]})}),activeTab==='history'&&/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto border border-gray-200 rounded-lg\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Item\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Type\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Quantity\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Cost\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:[supplyHistory.map(transaction=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",children:new Date(transaction.date).toLocaleDateString()}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\",children:transaction.itemName}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 capitalize\",children:transaction.itemType}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",children:transaction.quantity}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-blue-600 font-medium\",children:[\"$\",transaction.cost]})]},transaction.id)),supplyHistory.length===0&&/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"5\",className:\"px-6 py-4 text-center text-sm text-gray-500\",children:\"No purchase history\"})})]})]})})})]});};export default SupplyManagementTab;","map":{"version":3,"names":["React","useState","Package","ShoppingBag","AlertTriangle","Search","ArrowUp","ArrowDown","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SupplyManagementTab","_ref","supplies","seeds","ingredients","packaging","baggies","jars","setSupplies","supplyHistory","setSupplyHistory","productionPlans","drugTypes","seedTypes","activeTab","setActiveTab","searchTerm","setSearchTerm","showLowStock","setShowLowStock","sortColumn","setSortColumn","sortDirection","setSortDirection","purchaseForm","setPurchaseForm","itemType","itemId","quantity","cost","calculateRequiredSupplies","requiredSupplies","forEach","plan","status","totalIngredientNeeds","item","name","includes","packagingNeeded","type","calculateSupplyStatus","required","requiredQty","Object","entries","inStock","shortage","Math","max","handlePurchaseFormChange","e","value","target","costPerUnit","seed","find","ingredient","ing","parseInt","handlePurchase","preventDefault","transaction","id","Date","now","itemName","date","toISOString","newSupplies","handleSort","column","getFilteredAndSortedInventory","allItems","_ref2","s","push","category","drugType","isLowStock","_ref3","i","supplyStatus","seedStatus","ingredientStatus","packagingStatus","filteredItems","filter","toLowerCase","sort","a","b","aValue","bValue","renderSortIcon","className","getRequiredSuppliesList","requiredItems","data","totalCost","calculateTotalRequiredCost","reduce","total","children","onClick","placeholder","onChange","checked","htmlFor","map","length","colSpan","onSubmit","min","disabled","toLocaleDateString"],"sources":["C:/Users/joshu/OneDrive/Documents/_Technical Projects/Doponomics/dopeonomics/src/SupplyManagementTab.js"],"sourcesContent":["// SupplyManagementTab.js\r\nimport React, { useState} from 'react';\r\nimport {\r\n  Package,\r\n  ShoppingBag,\r\n  AlertTriangle,\r\n  Search,\r\n  ArrowUp,\r\n  ArrowDown\r\n} from 'lucide-react';\r\n\r\n// Supply Management Tab Component\r\nconst SupplyManagementTab = ({\r\n  supplies = {\r\n    seeds: {},\r\n    ingredients: {},\r\n    packaging: { baggies: 0, jars: 0 }\r\n  }, // Add default value\r\n  setSupplies,\r\n  supplyHistory = [], // Add default value\r\n  setSupplyHistory,\r\n  productionPlans = [], // Add default value\r\n  drugTypes,\r\n  seedTypes,\r\n  ingredients\r\n}) => {\r\n  const [activeTab, setActiveTab] = useState('inventory');\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [showLowStock, setShowLowStock] = useState(false);\r\n  const [sortColumn, setSortColumn] = useState('name');\r\n  const [sortDirection, setSortDirection] = useState('asc');\r\n  const [purchaseForm, setPurchaseForm] = useState({\r\n    itemType: 'seed',\r\n    itemId: '',\r\n    quantity: 1,\r\n    cost: 0\r\n  });\r\n\r\n  // Helper function to get required supplies for all production plans\r\n  const calculateRequiredSupplies = () => {\r\n    const requiredSupplies = {\r\n      seeds: {},\r\n      ingredients: {},\r\n      packaging: { baggies: 0, jars: 0 }\r\n    };\r\n    \r\n    productionPlans.forEach(plan => {\r\n      // Skip sold plans\r\n      if (plan.status === 'sold') return;\r\n      \r\n      // Add seed requirements\r\n      plan.totalIngredientNeeds.forEach(item => {\r\n        if (item.name.includes('Seed') || item.name.includes('Leaves') || item.name.includes('Pseudo')) {\r\n          // This is a seed item\r\n          requiredSupplies.seeds[item.name] = (requiredSupplies.seeds[item.name] || 0) + item.quantity;\r\n        } else {\r\n          // This is an ingredient\r\n          requiredSupplies.ingredients[item.name] = (requiredSupplies.ingredients[item.name] || 0) + item.quantity;\r\n        }\r\n      });\r\n      \r\n      // Add packaging requirements\r\n      if (plan.packagingNeeded.type === 'baggies') {\r\n        requiredSupplies.packaging.baggies += plan.packagingNeeded.quantity;\r\n      } else {\r\n        requiredSupplies.packaging.jars += plan.packagingNeeded.quantity;\r\n      }\r\n    });\r\n    \r\n    return requiredSupplies;\r\n  };\r\n\r\n  // Calculate which supplies are low or missing\r\n  const calculateSupplyStatus = () => {\r\n    const required = calculateRequiredSupplies();\r\n    const status = {\r\n      seeds: {},\r\n      ingredients: {},\r\n      packaging: { baggies: 0, jars: 0 }\r\n    };\r\n    \r\n    // Check seeds\r\n    for (const [name, requiredQty] of Object.entries(required.seeds)) {\r\n      const inStock = supplies.seeds[name] || 0;\r\n      status.seeds[name] = {\r\n        required: requiredQty,\r\n        inStock,\r\n        shortage: Math.max(0, requiredQty - inStock)\r\n      };\r\n    }\r\n    \r\n    // Check ingredients\r\n    for (const [name, requiredQty] of Object.entries(required.ingredients)) {\r\n      const inStock = supplies.ingredients[name] || 0;\r\n      status.ingredients[name] = {\r\n        required: requiredQty,\r\n        inStock,\r\n        shortage: Math.max(0, requiredQty - inStock)\r\n      };\r\n    }\r\n    \r\n    // Check packaging\r\n    status.packaging.baggies = {\r\n      required: required.packaging.baggies,\r\n      inStock: supplies.packaging.baggies,\r\n      shortage: Math.max(0, required.packaging.baggies - supplies.packaging.baggies)\r\n    };\r\n    \r\n    status.packaging.jars = {\r\n      required: required.packaging.jars,\r\n      inStock: supplies.packaging.jars,\r\n      shortage: Math.max(0, required.packaging.jars - supplies.packaging.jars)\r\n    };\r\n    \r\n    return status;\r\n  };\r\n\r\n  // Handle form changes\r\n  const handlePurchaseFormChange = (e) => {\r\n    const { name, value } = e.target;\r\n    \r\n    // Auto-calculate cost if seed or ingredient is selected\r\n    if (name === 'itemId' && purchaseForm.itemType !== 'packaging') {\r\n      let costPerUnit = 0;\r\n      if (purchaseForm.itemType === 'seed') {\r\n        const seed = seedTypes.find(seed => seed.name === value);\r\n        costPerUnit = seed ? seed.cost : 0;\r\n      } else {\r\n        const ingredient = ingredients.find(ing => ing.name === value);\r\n        costPerUnit = ingredient ? ingredient.cost : 0;\r\n      }\r\n      \r\n      setPurchaseForm({\r\n        ...purchaseForm,\r\n        [name]: value,\r\n        cost: costPerUnit * purchaseForm.quantity\r\n      });\r\n    } else if (name === 'quantity') {\r\n      // Recalculate cost when quantity changes\r\n      let costPerUnit = 0;\r\n      if (purchaseForm.itemType === 'seed' && purchaseForm.itemId) {\r\n        const seed = seedTypes.find(seed => seed.name === purchaseForm.itemId);\r\n        costPerUnit = seed ? seed.cost : 0;\r\n      } else if (purchaseForm.itemType === 'ingredient' && purchaseForm.itemId) {\r\n        const ingredient = ingredients.find(ing => ing.name === purchaseForm.itemId);\r\n        costPerUnit = ingredient ? ingredient.cost : 0;\r\n      } else if (purchaseForm.itemType === 'packaging') {\r\n        costPerUnit = purchaseForm.itemId === 'baggies' ? 1 : 3;\r\n      }\r\n      \r\n      setPurchaseForm({\r\n        ...purchaseForm,\r\n        [name]: parseInt(value) || 1,\r\n        cost: costPerUnit * (parseInt(value) || 1)\r\n      });\r\n    } else if (name === 'itemType') {\r\n      // Reset itemId when type changes\r\n      setPurchaseForm({\r\n        ...purchaseForm,\r\n        [name]: value,\r\n        itemId: '',\r\n        cost: 0\r\n      });\r\n    } else {\r\n      setPurchaseForm({\r\n        ...purchaseForm,\r\n        [name]: value\r\n      });\r\n    }\r\n  };\r\n\r\n  // Handle purchase form submission\r\n  const handlePurchase = (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!purchaseForm.itemId || purchaseForm.quantity <= 0) return;\r\n    \r\n    // Create transaction record\r\n    const transaction = {\r\n      id: Date.now(),\r\n      itemType: purchaseForm.itemType,\r\n      itemName: purchaseForm.itemId,\r\n      quantity: purchaseForm.quantity,\r\n      cost: purchaseForm.cost,\r\n      date: new Date().toISOString()\r\n    };\r\n    \r\n    // Update supply history\r\n    setSupplyHistory([...supplyHistory, transaction]);\r\n    \r\n    // Update supplies\r\n    const newSupplies = { ...supplies };\r\n    \r\n    if (purchaseForm.itemType === 'seed') {\r\n      newSupplies.seeds[purchaseForm.itemId] = (newSupplies.seeds[purchaseForm.itemId] || 0) + purchaseForm.quantity;\r\n    } else if (purchaseForm.itemType === 'ingredient') {\r\n      newSupplies.ingredients[purchaseForm.itemId] = (newSupplies.ingredients[purchaseForm.itemId] || 0) + purchaseForm.quantity;\r\n    } else if (purchaseForm.itemType === 'packaging') {\r\n      newSupplies.packaging[purchaseForm.itemId] += purchaseForm.quantity;\r\n    }\r\n    \r\n    setSupplies(newSupplies);\r\n    \r\n    // Reset form\r\n    setPurchaseForm({\r\n      itemType: 'seed',\r\n      itemId: '',\r\n      quantity: 1,\r\n      cost: 0\r\n    });\r\n  };\r\n\r\n  // Handle sorting\r\n  const handleSort = (column) => {\r\n    if (sortColumn === column) {\r\n      setSortDirection(sortDirection === 'asc' ? 'desc' : 'asc');\r\n    } else {\r\n      setSortColumn(column);\r\n      setSortDirection('asc');\r\n    }\r\n  };\r\n\r\n  // Filter and sort inventory items\r\n  const getFilteredAndSortedInventory = () => {\r\n    const allItems = [];\r\n    \r\n    // Convert seeds to array\r\n    Object.entries(supplies.seeds).forEach(([name, quantity]) => {\r\n      if (quantity > 0) {\r\n        const seed = seedTypes.find(s => s.name === name);\r\n        allItems.push({\r\n          id: name,\r\n          name,\r\n          type: 'seed',\r\n          category: seed ? seed.drugType : 'unknown',\r\n          quantity,\r\n          cost: seed ? seed.cost : 0,\r\n          isLowStock: false\r\n        });\r\n      }\r\n    });\r\n    \r\n    // Convert ingredients to array\r\n    Object.entries(supplies.ingredients).forEach(([name, quantity]) => {\r\n      if (quantity > 0) {\r\n        const ingredient = ingredients.find(i => i.name === name);\r\n        allItems.push({\r\n          id: name,\r\n          name,\r\n          type: 'ingredient',\r\n          category: 'ingredient',\r\n          quantity,\r\n          cost: ingredient ? ingredient.cost : 0,\r\n          isLowStock: false\r\n        });\r\n      }\r\n    });\r\n    \r\n    // Add packaging\r\n    if (supplies.packaging.baggies > 0) {\r\n      allItems.push({\r\n        id: 'baggies',\r\n        name: 'Baggies',\r\n        type: 'packaging',\r\n        category: 'packaging',\r\n        quantity: supplies.packaging.baggies,\r\n        cost: 1,\r\n        isLowStock: false\r\n      });\r\n    }\r\n    \r\n    if (supplies.packaging.jars > 0) {\r\n      allItems.push({\r\n        id: 'jars',\r\n        name: 'Jars',\r\n        type: 'packaging',\r\n        category: 'packaging',\r\n        quantity: supplies.packaging.jars,\r\n        cost: 3,\r\n        isLowStock: false\r\n      });\r\n    }\r\n    \r\n    // Mark low stock items based on production requirements\r\n    const supplyStatus = calculateSupplyStatus();\r\n    \r\n    allItems.forEach(item => {\r\n      if (item.type === 'seed') {\r\n        const seedStatus = supplyStatus.seeds[item.name];\r\n        if (seedStatus && seedStatus.shortage > 0) {\r\n          item.isLowStock = true;\r\n          item.required = seedStatus.required;\r\n          item.shortage = seedStatus.shortage;\r\n        }\r\n      } else if (item.type === 'ingredient') {\r\n        const ingredientStatus = supplyStatus.ingredients[item.name];\r\n        if (ingredientStatus && ingredientStatus.shortage > 0) {\r\n          item.isLowStock = true;\r\n          item.required = ingredientStatus.required;\r\n          item.shortage = ingredientStatus.shortage;\r\n        }\r\n      } else if (item.type === 'packaging') {\r\n        const packagingStatus = supplyStatus.packaging[item.id];\r\n        if (packagingStatus && packagingStatus.shortage > 0) {\r\n          item.isLowStock = true;\r\n          item.required = packagingStatus.required;\r\n          item.shortage = packagingStatus.shortage;\r\n        }\r\n      }\r\n    });\r\n    \r\n    // Filter by search term\r\n    let filteredItems = allItems;\r\n    if (searchTerm) {\r\n      filteredItems = allItems.filter(item => \r\n        item.name.toLowerCase().includes(searchTerm.toLowerCase())\r\n      );\r\n    }\r\n    \r\n    // Filter by low stock\r\n    if (showLowStock) {\r\n      filteredItems = filteredItems.filter(item => item.isLowStock);\r\n    }\r\n    \r\n    // Sort items\r\n    filteredItems.sort((a, b) => {\r\n      let aValue = a[sortColumn];\r\n      let bValue = b[sortColumn];\r\n      \r\n      if (typeof aValue === 'string') {\r\n        aValue = aValue.toLowerCase();\r\n        bValue = bValue.toLowerCase();\r\n      }\r\n      \r\n      if (aValue < bValue) return sortDirection === 'asc' ? -1 : 1;\r\n      if (aValue > bValue) return sortDirection === 'asc' ? 1 : -1;\r\n      return 0;\r\n    });\r\n    \r\n    return filteredItems;\r\n  };\r\n\r\n  // Render the sort icon\r\n  const renderSortIcon = (column) => {\r\n    if (sortColumn !== column) return null;\r\n    \r\n    return sortDirection === 'asc' \r\n      ? <ArrowUp className=\"w-4 h-4 ml-1 inline-block text-blue-500\" />\r\n      : <ArrowDown className=\"w-4 h-4 ml-1 inline-block text-blue-500\" />;\r\n  };\r\n  \r\n  // Get list of required supplies for rendering\r\n  const getRequiredSuppliesList = () => {\r\n    const status = calculateSupplyStatus();\r\n    const requiredItems = [];\r\n    \r\n    // Add seeds with shortages\r\n    for (const [name, data] of Object.entries(status.seeds)) {\r\n      if (data.shortage > 0) {\r\n        const seed = seedTypes.find(s => s.name === name);\r\n        requiredItems.push({\r\n          id: name,\r\n          name,\r\n          type: 'seed',\r\n          category: seed ? seed.drugType : 'unknown',\r\n          required: data.required,\r\n          inStock: data.inStock,\r\n          shortage: data.shortage,\r\n          cost: seed ? seed.cost : 0,\r\n          totalCost: (seed ? seed.cost : 0) * data.shortage\r\n        });\r\n      }\r\n    }\r\n    \r\n    // Add ingredients with shortages\r\n    for (const [name, data] of Object.entries(status.ingredients)) {\r\n      if (data.shortage > 0) {\r\n        const ingredient = ingredients.find(i => i.name === name);\r\n        requiredItems.push({\r\n          id: name,\r\n          name,\r\n          type: 'ingredient',\r\n          category: 'ingredient',\r\n          required: data.required,\r\n          inStock: data.inStock,\r\n          shortage: data.shortage,\r\n          cost: ingredient ? ingredient.cost : 0,\r\n          totalCost: (ingredient ? ingredient.cost : 0) * data.shortage\r\n        });\r\n      }\r\n    }\r\n    \r\n    // Add packaging with shortages\r\n    if (status.packaging.baggies.shortage > 0) {\r\n      requiredItems.push({\r\n        id: 'baggies',\r\n        name: 'Baggies',\r\n        type: 'packaging',\r\n        category: 'packaging',\r\n        required: status.packaging.baggies.required,\r\n        inStock: status.packaging.baggies.inStock,\r\n        shortage: status.packaging.baggies.shortage,\r\n        cost: 1,\r\n        totalCost: 1 * status.packaging.baggies.shortage\r\n      });\r\n    }\r\n    \r\n    if (status.packaging.jars.shortage > 0) {\r\n      requiredItems.push({\r\n        id: 'jars',\r\n        name: 'Jars',\r\n        type: 'packaging',\r\n        category: 'packaging',\r\n        required: status.packaging.jars.required,\r\n        inStock: status.packaging.jars.inStock,\r\n        shortage: status.packaging.jars.shortage,\r\n        cost: 3,\r\n        totalCost: 3 * status.packaging.jars.shortage\r\n      });\r\n    }\r\n    \r\n    return requiredItems;\r\n  };\r\n\r\n  // Calculate total cost for required supplies\r\n  const calculateTotalRequiredCost = () => {\r\n    return getRequiredSuppliesList().reduce((total, item) => total + item.totalCost, 0);\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-xl shadow-lg p-6 mt-8 border border-gray-200\">\r\n      <h2 className=\"text-2xl font-semibold text-gray-800 mb-6 flex items-center\">\r\n        <Package className=\"mr-2 w-6 h-6 text-orange-500\" />\r\n        Supply Management\r\n      </h2>\r\n\r\n      {/* Tabs */}\r\n      <div className=\"flex border-b border-gray-200 mb-6 overflow-x-auto\">\r\n        <button\r\n          className={`py-2 px-4 font-medium text-sm ${\r\n            activeTab === 'inventory'\r\n              ? 'text-orange-600 border-b-2 border-orange-600'\r\n              : 'text-gray-500 hover:text-gray-700'\r\n          }`}\r\n          onClick={() => setActiveTab('inventory')}\r\n        >\r\n          Inventory\r\n        </button>\r\n        <button\r\n          className={`py-2 px-4 font-medium text-sm ${\r\n            activeTab === 'purchase'\r\n              ? 'text-orange-600 border-b-2 border-orange-600'\r\n              : 'text-gray-500 hover:text-gray-700'\r\n          }`}\r\n          onClick={() => setActiveTab('purchase')}\r\n        >\r\n          Purchase Supplies\r\n        </button>\r\n        <button\r\n          className={`py-2 px-4 font-medium text-sm ${\r\n            activeTab === 'required'\r\n              ? 'text-orange-600 border-b-2 border-orange-600'\r\n              : 'text-gray-500 hover:text-gray-700'\r\n          }`}\r\n          onClick={() => setActiveTab('required')}\r\n        >\r\n          Required Supplies\r\n        </button>\r\n        <button\r\n          className={`py-2 px-4 font-medium text-sm ${\r\n            activeTab === 'history'\r\n              ? 'text-orange-600 border-b-2 border-orange-600'\r\n              : 'text-gray-500 hover:text-gray-700'\r\n          }`}\r\n          onClick={() => setActiveTab('history')}\r\n        >\r\n          Purchase History\r\n        </button>\r\n      </div>\r\n\r\n      {/* Inventory Tab */}\r\n      {activeTab === 'inventory' && (\r\n        <div className=\"space-y-6\">\r\n          <div className=\"flex justify-between items-center mb-4\">\r\n            <div className=\"relative w-full md:w-64\">\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Search inventory...\"\r\n                value={searchTerm}\r\n                onChange={(e) => setSearchTerm(e.target.value)}\r\n                className=\"w-full p-2 pl-9 text-sm border rounded-md\"\r\n              />\r\n              <Search className=\"absolute left-2 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n            </div>\r\n            <div className=\"flex items-center ml-4\">\r\n              <input\r\n                type=\"checkbox\"\r\n                id=\"show-low-stock\"\r\n                checked={showLowStock}\r\n                onChange={() => setShowLowStock(!showLowStock)}\r\n                className=\"mr-2\"\r\n              />\r\n              <label htmlFor=\"show-low-stock\" className=\"text-sm text-gray-600\">Show low stock only</label>\r\n              </div>\r\n          </div>\r\n\r\n          <div className=\"overflow-x-auto border border-gray-200 rounded-lg\">\r\n            <table className=\"min-w-full divide-y divide-gray-200\">\r\n              <thead className=\"bg-gray-50\">\r\n                <tr>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer\"\r\n                      onClick={() => handleSort('name')}>\r\n                    Name {renderSortIcon('name')}\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer\"\r\n                      onClick={() => handleSort('type')}>\r\n                    Type {renderSortIcon('type')}\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer\"\r\n                      onClick={() => handleSort('quantity')}>\r\n                    Quantity {renderSortIcon('quantity')}\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer\"\r\n                      onClick={() => handleSort('cost')}>\r\n                    Cost/Unit {renderSortIcon('cost')}\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Status\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                {getFilteredAndSortedInventory().map(item => (\r\n                  <tr key={`${item.type}-${item.id}`} className={`hover:bg-gray-50 ${item.isLowStock ? 'bg-red-50' : ''}`}>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\r\n                      {item.name}\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 capitalize\">\r\n                      {item.type}\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                      {item.quantity}\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                      ${item.cost}\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                      {item.isLowStock ? (\r\n                        <div className=\"text-red-600 text-sm\">\r\n                          <AlertTriangle className=\"inline-block mr-1 w-4 h-4\" />\r\n                          Low Stock - Need {item.shortage} more\r\n                        </div>\r\n                      ) : (\r\n                        <span className=\"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800\">\r\n                          In Stock\r\n                        </span>\r\n                      )}\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n                \r\n                {getFilteredAndSortedInventory().length === 0 && (\r\n                  <tr>\r\n                    <td colSpan=\"5\" className=\"px-6 py-4 text-center text-sm text-gray-500\">\r\n                      No items found\r\n                    </td>\r\n                  </tr>\r\n                )}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Purchase Supplies Tab */}\r\n      {activeTab === 'purchase' && (\r\n        <div className=\"space-y-6\">\r\n          <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\r\n            <h3 className=\"text-lg font-medium text-gray-800 mb-4\">Purchase Supplies</h3>\r\n            <form onSubmit={handlePurchase} className=\"space-y-4\">\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    Item Type\r\n                  </label>\r\n                  <select\r\n                    name=\"itemType\"\r\n                    value={purchaseForm.itemType}\r\n                    onChange={handlePurchaseFormChange}\r\n                    className=\"w-full p-2 border rounded-md\"\r\n                    required\r\n                  >\r\n                    <option value=\"seed\">Seeds</option>\r\n                    <option value=\"ingredient\">Ingredients</option>\r\n                    <option value=\"packaging\">Packaging</option>\r\n                  </select>\r\n                </div>\r\n                \r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    Item\r\n                  </label>\r\n                  <select\r\n                    name=\"itemId\"\r\n                    value={purchaseForm.itemId}\r\n                    onChange={handlePurchaseFormChange}\r\n                    className=\"w-full p-2 border rounded-md\"\r\n                    required\r\n                  >\r\n                    <option value=\"\">Select an item</option>\r\n                    \r\n                    {purchaseForm.itemType === 'seed' && seedTypes.map(seed => (\r\n                      <option key={seed.name} value={seed.name}>\r\n                        {seed.name} (${seed.cost})\r\n                      </option>\r\n                    ))}\r\n                    \r\n                    {purchaseForm.itemType === 'ingredient' && ingredients.map(ingredient => (\r\n                      <option key={ingredient.name} value={ingredient.name}>\r\n                        {ingredient.name} (${ingredient.cost})\r\n                      </option>\r\n                    ))}\r\n                    \r\n                    {purchaseForm.itemType === 'packaging' && (\r\n                      <>\r\n                        <option value=\"baggies\">Baggies ($1 each)</option>\r\n                        <option value=\"jars\">Jars ($3 each)</option>\r\n                      </>\r\n                    )}\r\n                  </select>\r\n                </div>\r\n                \r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    Quantity\r\n                  </label>\r\n                  <input\r\n                    type=\"number\"\r\n                    name=\"quantity\"\r\n                    min=\"1\"\r\n                    value={purchaseForm.quantity}\r\n                    onChange={handlePurchaseFormChange}\r\n                    className=\"w-full p-2 border rounded-md\"\r\n                    required\r\n                  />\r\n                </div>\r\n                \r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    Total Cost\r\n                  </label>\r\n                  <div className=\"w-full p-2 border rounded-md bg-gray-50\">\r\n                    ${purchaseForm.cost}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"flex justify-end\">\r\n                <button\r\n                  type=\"submit\"\r\n                  className=\"px-4 py-2 bg-orange-600 text-white rounded-md hover:bg-orange-700\"\r\n                  disabled={!purchaseForm.itemId || purchaseForm.quantity <= 0}\r\n                >\r\n                  <ShoppingBag className=\"w-4 h-4 mr-1 inline-block\" />\r\n                  Purchase Supplies\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Required Supplies Tab */}\r\n      {activeTab === 'required' && (\r\n        <div className=\"space-y-6\">\r\n          <div className=\"bg-gray-50 p-4 rounded-lg border border-gray-200\">\r\n            <h3 className=\"text-lg font-medium text-gray-800 mb-2\">Supply Requirements</h3>\r\n            <p className=\"text-sm text-gray-500 mb-4\">\r\n              Based on your active production plans, you need the following supplies:\r\n            </p>\r\n            \r\n            <div className=\"overflow-x-auto border border-gray-200 rounded-lg bg-white\">\r\n              <table className=\"min-w-full divide-y divide-gray-200\">\r\n                <thead className=\"bg-gray-50\">\r\n                  <tr>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Item\r\n                    </th>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Type\r\n                    </th>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Required\r\n                    </th>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      In Stock\r\n                    </th>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Shortage\r\n                    </th>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Cost\r\n                    </th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                  {getRequiredSuppliesList().map(item => (\r\n                    <tr key={`${item.type}-${item.id}`} className=\"hover:bg-gray-50\">\r\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\r\n                        {item.name}\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 capitalize\">\r\n                        {item.type}\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                        {item.required}\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                        {item.inStock}\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-red-600 font-medium\">\r\n                        {item.shortage}\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-blue-600\">\r\n                        ${item.totalCost}\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                  \r\n                  {getRequiredSuppliesList().length === 0 && (\r\n                    <tr>\r\n                      <td colSpan=\"6\" className=\"px-6 py-4 text-center text-sm text-gray-500\">\r\n                        No supply shortages\r\n                      </td>\r\n                    </tr>\r\n                  )}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n            \r\n            {getRequiredSuppliesList().length > 0 && (\r\n              <div className=\"mt-4 bg-white p-4 rounded-lg border border-gray-200\">\r\n                <div className=\"flex justify-between items-center\">\r\n                  <h4 className=\"font-medium text-gray-800\">Total Cost for Missing Supplies</h4>\r\n                  <span className=\"text-xl font-bold text-blue-600\">${calculateTotalRequiredCost()}</span>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Purchase History Tab */}\r\n      {activeTab === 'history' && (\r\n        <div className=\"space-y-6\">\r\n          <div className=\"overflow-x-auto border border-gray-200 rounded-lg\">\r\n            <table className=\"min-w-full divide-y divide-gray-200\">\r\n              <thead className=\"bg-gray-50\">\r\n                <tr>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Date\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Item\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Type\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Quantity\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Cost\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                {supplyHistory.map(transaction => (\r\n                  <tr key={transaction.id} className=\"hover:bg-gray-50\">\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                      {new Date(transaction.date).toLocaleDateString()}\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\r\n                      {transaction.itemName}\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 capitalize\">\r\n                      {transaction.itemType}\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                      {transaction.quantity}\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-blue-600 font-medium\">\r\n                      ${transaction.cost}\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n                \r\n                {supplyHistory.length === 0 && (\r\n                  <tr>\r\n                    <td colSpan=\"5\" className=\"px-6 py-4 text-center text-sm text-gray-500\">\r\n                      No purchase history\r\n                    </td>\r\n                  </tr>\r\n                )}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SupplyManagementTab;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}