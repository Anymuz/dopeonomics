{"ast":null,"code":"import React,{useEffect}from'react';import{Calculator}from'lucide-react';import{calculateRecommendedPrice}from'./pricing';// Packaging Selector component\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const PackagingSelector=_ref=>{let{packagingType,setPackagingType}=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-md font-medium text-gray-700 mb-2\",children:\"Packaging Type\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4\",children:[/*#__PURE__*/_jsxs(\"button\",{className:`flex-1 p-3 rounded-lg border ${packagingType==='baggies'?'bg-green-50 border-green-500':'bg-gray-50 border-gray-200 hover:bg-gray-100'}`,onClick:()=>setPackagingType('baggies'),children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-center\",children:\"Baggies\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-center text-gray-500\",children:\"$1 each\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:`flex-1 p-3 rounded-lg border ${packagingType==='jars'?'bg-green-50 border-green-500':'bg-gray-50 border-gray-200 hover:bg-gray-100'}`,onClick:()=>setPackagingType('jars'),children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-center\",children:\"Jars\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-center text-gray-500\",children:\"$3 per 5 buds\"})]})]})]});};// Price Margin Inputs component \nexport const PriceMarginInputs=_ref2=>{let{salePrice,targetMargin,priceMultiplier,setPriceMultiplier,setSalePrice,setTargetMargin,calculateMarginFromSalePrice,calculateSalePriceFromMargin,currentEffects,productType='Weed'}=_ref2;// Calculate recommended price based on current effects\nconst recommendedPrice=currentEffects.length?Math.round(calculateRecommendedPrice(currentEffects,productType)):0;// Set the sale price to recommended price when effects change\nuseEffect(()=>{if(recommendedPrice>0){setSalePrice(recommendedPrice);calculateMarginFromSalePrice();}},[recommendedPrice,setSalePrice,calculateMarginFromSalePrice]);// Handler to ensure only whole numbers are entered\nconst handlePriceChange=e=>{// Parse as integer, defaulting to 0 if invalid\nconst newPrice=parseInt(e.target.value)||0;setSalePrice(newPrice);calculateMarginFromSalePrice();};return/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap items-center gap-4 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-[200px]\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Sale Price ($):\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex gap-2\",children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"w-full p-2 border rounded-md\",value:salePrice,onChange:handlePriceChange,min:\"0\",step:\"1\"// Only allow whole numbers\n,onBlur:()=>{// Ensure the value is a whole number when the field loses focus\nsetSalePrice(Math.round(salePrice));calculateMarginFromSalePrice();}})}),recommendedPrice>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-green-600 mt-1\",children:[\"Recommended: $\",recommendedPrice]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-[200px]\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Target Margin (%):\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"flex-1 p-2 border rounded-md\",value:targetMargin,onChange:e=>{setTargetMargin(e.target.value);calculateSalePriceFromMargin();},min:\"0\",max:\"100\"}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-blue-500 text-white px-3 py-1 rounded-md hover:bg-blue-600\",onClick:calculateSalePriceFromMargin,children:/*#__PURE__*/_jsx(Calculator,{className:\"w-5 h-5\"})})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Price Multiplier (1-20x):\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"range\",className:\"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer\",min:\"1\",max:\"20\",step:\"1\",value:priceMultiplier,onChange:e=>setPriceMultiplier(parseInt(e.target.value))}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium text-gray-800 min-w-[30px]\",children:[priceMultiplier,\"x\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500 mt-1\",children:\"Multiplier affects total profit calculations but not per-bud prices\"})]})]});};","map":{"version":3,"names":["React","useEffect","Calculator","calculateRecommendedPrice","jsx","_jsx","jsxs","_jsxs","PackagingSelector","_ref","packagingType","setPackagingType","className","children","onClick","PriceMarginInputs","_ref2","salePrice","targetMargin","priceMultiplier","setPriceMultiplier","setSalePrice","setTargetMargin","calculateMarginFromSalePrice","calculateSalePriceFromMargin","currentEffects","productType","recommendedPrice","length","Math","round","handlePriceChange","e","newPrice","parseInt","target","value","type","onChange","min","step","onBlur","max"],"sources":["C:/Users/joshu/OneDrive/Documents/_Technical Projects/Doponomics/dopeonomics/src/PackagingComponents.js"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport { Calculator } from 'lucide-react';\r\nimport { calculateRecommendedPrice } from './pricing';\r\n\r\n// Packaging Selector component\r\nexport const PackagingSelector = ({ packagingType, setPackagingType }) => (\r\n  <div className=\"mb-6\">\r\n    <h3 className=\"text-md font-medium text-gray-700 mb-2\">Packaging Type</h3>\r\n    <div className=\"flex gap-4\">\r\n      <button\r\n        className={`flex-1 p-3 rounded-lg border ${\r\n          packagingType === 'baggies' \r\n            ? 'bg-green-50 border-green-500' \r\n            : 'bg-gray-50 border-gray-200 hover:bg-gray-100'\r\n        }`}\r\n        onClick={() => setPackagingType('baggies')}\r\n      >\r\n        <div className=\"font-medium text-center\">Baggies</div>\r\n        <div className=\"text-sm text-center text-gray-500\">$1 each</div>\r\n      </button>\r\n      \r\n      <button\r\n        className={`flex-1 p-3 rounded-lg border ${\r\n          packagingType === 'jars' \r\n            ? 'bg-green-50 border-green-500' \r\n            : 'bg-gray-50 border-gray-200 hover:bg-gray-100'\r\n        }`}\r\n        onClick={() => setPackagingType('jars')}\r\n      >\r\n        <div className=\"font-medium text-center\">Jars</div>\r\n        <div className=\"text-sm text-center text-gray-500\">$3 per 5 buds</div>\r\n      </button>\r\n    </div>\r\n  </div>\r\n);\r\n\r\n// Price Margin Inputs component \r\nexport const PriceMarginInputs = ({ \r\n  salePrice, \r\n  targetMargin, \r\n  priceMultiplier,\r\n  setPriceMultiplier,\r\n  setSalePrice, \r\n  setTargetMargin,\r\n  calculateMarginFromSalePrice,\r\n  calculateSalePriceFromMargin,\r\n  currentEffects, \r\n  productType = 'Weed' \r\n}) => {\r\n  // Calculate recommended price based on current effects\r\n  const recommendedPrice = currentEffects.length ? \r\n    Math.round(calculateRecommendedPrice(currentEffects, productType)) : 0;\r\n  \r\n  // Set the sale price to recommended price when effects change\r\n  useEffect(() => {\r\n    if (recommendedPrice > 0) {\r\n      setSalePrice(recommendedPrice);\r\n      calculateMarginFromSalePrice();\r\n    }\r\n  }, [recommendedPrice, setSalePrice, calculateMarginFromSalePrice]);\r\n\r\n  // Handler to ensure only whole numbers are entered\r\n  const handlePriceChange = (e) => {\r\n    // Parse as integer, defaulting to 0 if invalid\r\n    const newPrice = parseInt(e.target.value) || 0;\r\n    setSalePrice(newPrice);\r\n    calculateMarginFromSalePrice();\r\n  };\r\n\r\n  return (\r\n    <div className=\"mb-6\">\r\n      <div className=\"flex flex-wrap items-center gap-4 mb-4\">\r\n        <div className=\"flex-1 min-w-[200px]\">\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">Sale Price ($):</label>\r\n          <div className=\"flex gap-2\">\r\n            <input\r\n              type=\"number\"\r\n              className=\"w-full p-2 border rounded-md\"\r\n              value={salePrice}\r\n              onChange={handlePriceChange}\r\n              min=\"0\"\r\n              step=\"1\" // Only allow whole numbers\r\n              onBlur={() => {\r\n                // Ensure the value is a whole number when the field loses focus\r\n                setSalePrice(Math.round(salePrice));\r\n                calculateMarginFromSalePrice();\r\n              }}\r\n            />\r\n          </div>\r\n          {recommendedPrice > 0 && (\r\n            <div className=\"text-sm text-green-600 mt-1\">\r\n              Recommended: ${recommendedPrice}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"flex-1 min-w-[200px]\">\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">Target Margin (%):</label>\r\n          <div className=\"flex gap-2\">\r\n            <input\r\n              type=\"number\"\r\n              className=\"flex-1 p-2 border rounded-md\"\r\n              value={targetMargin}\r\n              onChange={(e) => {\r\n                setTargetMargin(e.target.value);\r\n                calculateSalePriceFromMargin();\r\n              }}\r\n              min=\"0\"\r\n              max=\"100\"\r\n            />\r\n            <button\r\n              className=\"bg-blue-500 text-white px-3 py-1 rounded-md hover:bg-blue-600\"\r\n              onClick={calculateSalePriceFromMargin}\r\n            >\r\n              <Calculator className=\"w-5 h-5\" />\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div>\r\n        <label className=\"block text-sm font-medium text-gray-700 mb-1\">Price Multiplier (1-20x):</label>\r\n        <div className=\"flex items-center gap-3\">\r\n          <input\r\n            type=\"range\"\r\n            className=\"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer\"\r\n            min=\"1\"\r\n            max=\"20\"\r\n            step=\"1\"\r\n            value={priceMultiplier}\r\n            onChange={(e) => setPriceMultiplier(parseInt(e.target.value))}\r\n          />\r\n          <span className=\"font-medium text-gray-800 min-w-[30px]\">{priceMultiplier}x</span>\r\n        </div>\r\n        <div className=\"text-xs text-gray-500 mt-1\">\r\n          Multiplier affects total profit calculations but not per-bud prices\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}