{"ast":null,"code":"var _s = $RefreshSig$();\n// AutoSave.js\n// Component that provides automatic saving of game state without UI elements\nimport { useEffect, useCallback } from 'react';\nconst AUTO_SAVE_INTERVAL = 30000; // Auto-save every 30 seconds\n\nconst AutoSave = ({\n  gameState,\n  onManualSave,\n  autoSaveInterval = AUTO_SAVE_INTERVAL\n}) => {\n  _s();\n  // Function to handle automatic saving (silent)\n  const autoSaveGame = useCallback(() => {\n    // Call the manual save function passed from parent\n    onManualSave();\n  }, [onManualSave]);\n\n  // Set up auto-save interval\n  useEffect(() => {\n    const intervalId = setInterval(() => {\n      autoSaveGame();\n    }, autoSaveInterval);\n\n    // Save on component mount (silent)\n    autoSaveGame();\n\n    // Clean up interval on unmount\n    return () => clearInterval(intervalId);\n  }, [autoSaveInterval, autoSaveGame, gameState]);\n\n  // Save when window is about to unload (close/refresh)\n  useEffect(() => {\n    const handleBeforeUnload = () => {\n      onManualSave();\n    };\n    window.addEventListener('beforeunload', handleBeforeUnload);\n    return () => {\n      window.removeEventListener('beforeunload', handleBeforeUnload);\n    };\n  }, [onManualSave, gameState]);\n\n  // Return null since we don't need UI elements anymore\n  return null;\n};\n_s(AutoSave, \"KJNPlXUmi19f67R86tEsy/5NI0o=\");\n_c = AutoSave;\nexport default AutoSave;\nvar _c;\n$RefreshReg$(_c, \"AutoSave\");","map":{"version":3,"names":["useEffect","useCallback","AUTO_SAVE_INTERVAL","AutoSave","gameState","onManualSave","autoSaveInterval","_s","autoSaveGame","intervalId","setInterval","clearInterval","handleBeforeUnload","window","addEventListener","removeEventListener","_c","$RefreshReg$"],"sources":["C:/Users/joshu/OneDrive/Documents/_Technical Projects/Doponomics/dopeonomics/src/AutoSave.js"],"sourcesContent":["// AutoSave.js\r\n// Component that provides automatic saving of game state without UI elements\r\nimport { useEffect, useCallback } from 'react';\r\n\r\nconst AUTO_SAVE_INTERVAL = 30000; // Auto-save every 30 seconds\r\n\r\nconst AutoSave = ({ \r\n  gameState, \r\n  onManualSave,\r\n  autoSaveInterval = AUTO_SAVE_INTERVAL \r\n}) => {\r\n  // Function to handle automatic saving (silent)\r\n  const autoSaveGame = useCallback(() => {\r\n    // Call the manual save function passed from parent\r\n    onManualSave();\r\n  }, [onManualSave]);\r\n\r\n  // Set up auto-save interval\r\n  useEffect(() => {\r\n    const intervalId = setInterval(() => {\r\n      autoSaveGame();\r\n    }, autoSaveInterval);\r\n\r\n    // Save on component mount (silent)\r\n    autoSaveGame();\r\n\r\n    // Clean up interval on unmount\r\n    return () => clearInterval(intervalId);\r\n  }, [autoSaveInterval, autoSaveGame, gameState]);\r\n\r\n  // Save when window is about to unload (close/refresh)\r\n  useEffect(() => {\r\n    const handleBeforeUnload = () => {\r\n      onManualSave();\r\n    };\r\n\r\n    window.addEventListener('beforeunload', handleBeforeUnload);\r\n    \r\n    return () => {\r\n      window.removeEventListener('beforeunload', handleBeforeUnload);\r\n    };\r\n  }, [onManualSave, gameState]);\r\n\r\n  // Return null since we don't need UI elements anymore\r\n  return null;\r\n};\r\n\r\nexport default AutoSave;"],"mappings":";AAAA;AACA;AACA,SAASA,SAAS,EAAEC,WAAW,QAAQ,OAAO;AAE9C,MAAMC,kBAAkB,GAAG,KAAK,CAAC,CAAC;;AAElC,MAAMC,QAAQ,GAAGA,CAAC;EAChBC,SAAS;EACTC,YAAY;EACZC,gBAAgB,GAAGJ;AACrB,CAAC,KAAK;EAAAK,EAAA;EACJ;EACA,MAAMC,YAAY,GAAGP,WAAW,CAAC,MAAM;IACrC;IACAI,YAAY,CAAC,CAAC;EAChB,CAAC,EAAE,CAACA,YAAY,CAAC,CAAC;;EAElB;EACAL,SAAS,CAAC,MAAM;IACd,MAAMS,UAAU,GAAGC,WAAW,CAAC,MAAM;MACnCF,YAAY,CAAC,CAAC;IAChB,CAAC,EAAEF,gBAAgB,CAAC;;IAEpB;IACAE,YAAY,CAAC,CAAC;;IAEd;IACA,OAAO,MAAMG,aAAa,CAACF,UAAU,CAAC;EACxC,CAAC,EAAE,CAACH,gBAAgB,EAAEE,YAAY,EAAEJ,SAAS,CAAC,CAAC;;EAE/C;EACAJ,SAAS,CAAC,MAAM;IACd,MAAMY,kBAAkB,GAAGA,CAAA,KAAM;MAC/BP,YAAY,CAAC,CAAC;IAChB,CAAC;IAEDQ,MAAM,CAACC,gBAAgB,CAAC,cAAc,EAAEF,kBAAkB,CAAC;IAE3D,OAAO,MAAM;MACXC,MAAM,CAACE,mBAAmB,CAAC,cAAc,EAAEH,kBAAkB,CAAC;IAChE,CAAC;EACH,CAAC,EAAE,CAACP,YAAY,EAAED,SAAS,CAAC,CAAC;;EAE7B;EACA,OAAO,IAAI;AACb,CAAC;AAACG,EAAA,CAvCIJ,QAAQ;AAAAa,EAAA,GAARb,QAAQ;AAyCd,eAAeA,QAAQ;AAAC,IAAAa,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}